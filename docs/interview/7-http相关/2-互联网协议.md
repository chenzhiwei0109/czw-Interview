# 互联网协议汇总

## 应用层-Http协议

### http协议特点

**简单快速**

> 只需要输入这个uri然后回车就可以访问到。

**灵活**

> HTTP支持传输任意类型的数据，通过首部的content-type字段传入的mime类型使得浏览器分辨传入的数据并进行对应的解析
>
> 

**无状态**

> 如果每台电脑的访问信息服务器都要记录状态，服务器就崩溃了，所以说HTTP是无状态的。只从http协议无法区分，上次连接和下次连接的状态，但是服务端加session这种不算。

**无连接**

> 不会保持连接

虽然HTTP实现持久连接，但是也是有时间限制的，这样使得服务器每次只处理一条信息，会减少资源消耗，

### HTTP报文组成

**请求报文**

> 请求行   方法   请求URI  版本
>
> 请求头 ，key value值          
>
> 首部后面都有个空行，表示首部结束  。
>
> 请求体   请求主题(一般get没有)  ,  

**响应报文**

> 响应行
>
> 响应头   
>
> 空行
>
> 响应体

![1587020018876](../../.vuepress/public/assets/img/1587020018876.png)

### HTTP方法

- GET    获取资源
- POST 传输资源
- PUT 更新资源    没用过
- delete  删除资源  没用过 ，我觉得资源不能随便删除。
- head 获取报文首部

### post和get区别

- （记住）get在浏览器回退时没有影响，如果post请求，他可能会重复提交
- get产生的url地址可以被收藏
- （记住）get请求会被浏览器主动缓存（你在地址栏输入就能看见），post不会
- （记住）get请求只能进行url编码，post支持多种编码方式
- get请求参数会被完整保存在历史记录，post不会保存。防止csrf攻击，可以使用post。
- （记住）get请求有长度限制，不同浏览器限制不一样，所以get请求的url不可以太长。否则会截断，post无限制。
- get只接受ASCII字符，POST无限制
- GET会暴露在URL上，不能传递敏感信息
- （记住）GET参数放在url,地址栏能看见，POST放在请求体。

### HTTP状态码

**1XX**：指示信息

**2xx**:

200  ok

206 pARTIAL Content ：客户端发送了一个带有Range头的GET请求，服务器完成了他，响应体只有Range头指定的内容，这种情况下使用音视频播放的时候

**3xx**:重定向

301：永久重定向

302：临时重定向

304：服务器告诉客户端，你有缓存了，你直接从浏览器取就行了。

**4xx**:客户端错误

400:客户端语法错误

401：请求没有授权

403：资源不允许被访问，比如你只能通过服务器访问

404：not Found

**5xx**:服务器错误

500:服务器错误

503：服务器过载了

### 什么是持久连接

http协议使用非keep-alive时，每个请求和响应都需要建立连接，完成后断开（无连接协议



HTTP1.1版本支持持久连接，使用keep-alive时，当出现后续请求，keep-alive避免了重新建立连接

### 什么是管线化

在使用持久连接情况下，某个连接上消息的传递类似于

请求1->响应1->请求2->响应2->请求3->响应3



管线化：通道持久建立，但是不是请求一次响应一次，而是打包请求，打包响应。把一条条请求变成一个管子那种，打包传过去

我了解他怎么用！！！但是没有深入研究。问他有什么好的资料可以补充细节。

**特点**

- 管线化机制通过持久连接完成，这个只能HTTP1.1支持这个技术
- get和head请求才能进行管线化，post有所限制
- 第一次创建连接不要启动管线机制，因为对方服务器不一定支持
- 管线化不影响响应返回的顺序
- 开启管线化不一定开启大幅度提升！！！因为服务器端对他的支持性不一定那么好