<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>webpack手写 | 学习笔记</title>
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="icon" href="/learningblog/title.jpg">
    <meta name="description" content="前端,HTML,CSS,webpack,前端学习,前端面试">
    <meta name="keywords" content="vuepress 学习 笔记">
    <meta name="author" content="Chen">
    <link rel="preload" href="/learningblog/assets/css/0.styles.ffcfda16.css" as="style"><link rel="preload" href="/learningblog/assets/js/app.bc8599de.js" as="script"><link rel="preload" href="/learningblog/assets/js/2.56c2d769.js" as="script"><link rel="preload" href="/learningblog/assets/js/15.977b5688.js" as="script"><link rel="prefetch" href="/learningblog/assets/js/10.44ce86fa.js"><link rel="prefetch" href="/learningblog/assets/js/100.a22240ad.js"><link rel="prefetch" href="/learningblog/assets/js/101.1d697d77.js"><link rel="prefetch" href="/learningblog/assets/js/102.24aa6c9d.js"><link rel="prefetch" href="/learningblog/assets/js/103.ca5281cb.js"><link rel="prefetch" href="/learningblog/assets/js/104.2cfbdcd4.js"><link rel="prefetch" href="/learningblog/assets/js/105.48bf18cc.js"><link rel="prefetch" href="/learningblog/assets/js/106.78a8299b.js"><link rel="prefetch" href="/learningblog/assets/js/107.6ec77207.js"><link rel="prefetch" href="/learningblog/assets/js/108.ad671bd9.js"><link rel="prefetch" href="/learningblog/assets/js/109.9bbec404.js"><link rel="prefetch" href="/learningblog/assets/js/11.57bf6a9e.js"><link rel="prefetch" href="/learningblog/assets/js/110.ff6000bd.js"><link rel="prefetch" href="/learningblog/assets/js/111.dd4c849f.js"><link rel="prefetch" href="/learningblog/assets/js/112.19c197db.js"><link rel="prefetch" href="/learningblog/assets/js/113.29ef38ea.js"><link rel="prefetch" href="/learningblog/assets/js/114.d139afc6.js"><link rel="prefetch" href="/learningblog/assets/js/115.fc0d3e2b.js"><link rel="prefetch" href="/learningblog/assets/js/116.cd9e9a23.js"><link rel="prefetch" href="/learningblog/assets/js/117.5c816ab4.js"><link rel="prefetch" href="/learningblog/assets/js/118.65e2c356.js"><link rel="prefetch" href="/learningblog/assets/js/119.5852f373.js"><link rel="prefetch" href="/learningblog/assets/js/12.5a95d2eb.js"><link rel="prefetch" href="/learningblog/assets/js/120.64a4877f.js"><link rel="prefetch" href="/learningblog/assets/js/121.5b005d7e.js"><link rel="prefetch" href="/learningblog/assets/js/122.cb5f20a5.js"><link rel="prefetch" href="/learningblog/assets/js/123.4a98a659.js"><link rel="prefetch" href="/learningblog/assets/js/124.7a3a8b16.js"><link rel="prefetch" href="/learningblog/assets/js/125.4f2794b4.js"><link rel="prefetch" href="/learningblog/assets/js/126.0e542a0d.js"><link rel="prefetch" href="/learningblog/assets/js/127.bca6fc5e.js"><link rel="prefetch" href="/learningblog/assets/js/128.f096b2c1.js"><link rel="prefetch" href="/learningblog/assets/js/129.7f0f036e.js"><link rel="prefetch" href="/learningblog/assets/js/13.5c1cffe5.js"><link rel="prefetch" href="/learningblog/assets/js/130.f5a69186.js"><link rel="prefetch" href="/learningblog/assets/js/131.cd68cfc5.js"><link rel="prefetch" href="/learningblog/assets/js/132.83118594.js"><link rel="prefetch" href="/learningblog/assets/js/133.fe8b7284.js"><link rel="prefetch" href="/learningblog/assets/js/134.46031499.js"><link rel="prefetch" href="/learningblog/assets/js/135.a529628e.js"><link rel="prefetch" href="/learningblog/assets/js/136.2d7f0bf5.js"><link rel="prefetch" href="/learningblog/assets/js/137.571196c4.js"><link rel="prefetch" href="/learningblog/assets/js/138.bd595fc6.js"><link rel="prefetch" href="/learningblog/assets/js/139.c2863699.js"><link rel="prefetch" href="/learningblog/assets/js/14.156aa16b.js"><link rel="prefetch" href="/learningblog/assets/js/140.b6d9d945.js"><link rel="prefetch" href="/learningblog/assets/js/141.785687b3.js"><link rel="prefetch" href="/learningblog/assets/js/142.522a96bd.js"><link rel="prefetch" href="/learningblog/assets/js/143.b0a18927.js"><link rel="prefetch" href="/learningblog/assets/js/144.8afecefc.js"><link rel="prefetch" href="/learningblog/assets/js/145.c75e6aa4.js"><link rel="prefetch" href="/learningblog/assets/js/146.50d76f00.js"><link rel="prefetch" href="/learningblog/assets/js/147.f21cf887.js"><link rel="prefetch" href="/learningblog/assets/js/148.4d12a018.js"><link rel="prefetch" href="/learningblog/assets/js/149.9458dbf7.js"><link rel="prefetch" href="/learningblog/assets/js/150.b82ce497.js"><link rel="prefetch" href="/learningblog/assets/js/151.e042f21b.js"><link rel="prefetch" href="/learningblog/assets/js/152.5d9c4173.js"><link rel="prefetch" href="/learningblog/assets/js/153.d5dfc46f.js"><link rel="prefetch" href="/learningblog/assets/js/154.b76ef1db.js"><link rel="prefetch" href="/learningblog/assets/js/155.83903d13.js"><link rel="prefetch" href="/learningblog/assets/js/156.721ef3a4.js"><link rel="prefetch" href="/learningblog/assets/js/157.cd5633a1.js"><link rel="prefetch" href="/learningblog/assets/js/158.e37a0794.js"><link rel="prefetch" href="/learningblog/assets/js/159.26d38eed.js"><link rel="prefetch" href="/learningblog/assets/js/16.c53d0ca3.js"><link rel="prefetch" href="/learningblog/assets/js/160.dd37bb78.js"><link rel="prefetch" href="/learningblog/assets/js/161.d6fbb45f.js"><link rel="prefetch" href="/learningblog/assets/js/162.f4e3fd59.js"><link rel="prefetch" href="/learningblog/assets/js/163.2d970cd0.js"><link rel="prefetch" href="/learningblog/assets/js/164.c1403904.js"><link rel="prefetch" href="/learningblog/assets/js/165.894c1aeb.js"><link rel="prefetch" href="/learningblog/assets/js/166.46a02a05.js"><link rel="prefetch" href="/learningblog/assets/js/167.e2227cb7.js"><link rel="prefetch" href="/learningblog/assets/js/168.a8b72783.js"><link rel="prefetch" href="/learningblog/assets/js/169.0c5914da.js"><link rel="prefetch" href="/learningblog/assets/js/17.bc3dbacb.js"><link rel="prefetch" href="/learningblog/assets/js/170.294503c1.js"><link rel="prefetch" href="/learningblog/assets/js/171.b0738a8b.js"><link rel="prefetch" href="/learningblog/assets/js/172.9d2f1651.js"><link rel="prefetch" href="/learningblog/assets/js/173.6f2299c0.js"><link rel="prefetch" href="/learningblog/assets/js/174.77bff33f.js"><link rel="prefetch" href="/learningblog/assets/js/175.ecbc658f.js"><link rel="prefetch" href="/learningblog/assets/js/176.f7a47c06.js"><link rel="prefetch" href="/learningblog/assets/js/177.7ff549a9.js"><link rel="prefetch" href="/learningblog/assets/js/178.9212b3a7.js"><link rel="prefetch" href="/learningblog/assets/js/179.0b830362.js"><link rel="prefetch" href="/learningblog/assets/js/18.56ebd4f0.js"><link rel="prefetch" href="/learningblog/assets/js/180.ec017424.js"><link rel="prefetch" href="/learningblog/assets/js/181.551edebd.js"><link rel="prefetch" href="/learningblog/assets/js/182.a8225fed.js"><link rel="prefetch" href="/learningblog/assets/js/183.6b347aa2.js"><link rel="prefetch" href="/learningblog/assets/js/184.18fb0307.js"><link rel="prefetch" href="/learningblog/assets/js/185.5d7926a8.js"><link rel="prefetch" href="/learningblog/assets/js/186.a0c27a3b.js"><link rel="prefetch" href="/learningblog/assets/js/187.9081db16.js"><link rel="prefetch" href="/learningblog/assets/js/188.7e0ac737.js"><link rel="prefetch" href="/learningblog/assets/js/189.cf7895bf.js"><link rel="prefetch" href="/learningblog/assets/js/19.bbf0eb2b.js"><link rel="prefetch" href="/learningblog/assets/js/190.26901e70.js"><link rel="prefetch" href="/learningblog/assets/js/191.bc0263c6.js"><link rel="prefetch" href="/learningblog/assets/js/192.2db5ec50.js"><link rel="prefetch" href="/learningblog/assets/js/193.13b83f12.js"><link rel="prefetch" href="/learningblog/assets/js/194.5b6df6ef.js"><link rel="prefetch" href="/learningblog/assets/js/195.b0ddf070.js"><link rel="prefetch" href="/learningblog/assets/js/196.486cc968.js"><link rel="prefetch" href="/learningblog/assets/js/197.22ac6c0f.js"><link rel="prefetch" href="/learningblog/assets/js/198.e310bd35.js"><link rel="prefetch" href="/learningblog/assets/js/199.9621cf8a.js"><link rel="prefetch" href="/learningblog/assets/js/20.ee633d47.js"><link rel="prefetch" href="/learningblog/assets/js/200.c3fbf81e.js"><link rel="prefetch" href="/learningblog/assets/js/201.678fd6b8.js"><link rel="prefetch" href="/learningblog/assets/js/202.7a05fddd.js"><link rel="prefetch" href="/learningblog/assets/js/203.0f9af822.js"><link rel="prefetch" href="/learningblog/assets/js/204.15ed3540.js"><link rel="prefetch" href="/learningblog/assets/js/205.900c61d2.js"><link rel="prefetch" href="/learningblog/assets/js/206.f4693c59.js"><link rel="prefetch" href="/learningblog/assets/js/207.e8517b94.js"><link rel="prefetch" href="/learningblog/assets/js/208.2941e5f3.js"><link rel="prefetch" href="/learningblog/assets/js/209.b48e7232.js"><link rel="prefetch" href="/learningblog/assets/js/21.63593271.js"><link rel="prefetch" href="/learningblog/assets/js/210.5f959727.js"><link rel="prefetch" href="/learningblog/assets/js/211.36e96daf.js"><link rel="prefetch" href="/learningblog/assets/js/212.f325c1b2.js"><link rel="prefetch" href="/learningblog/assets/js/213.086fdb63.js"><link rel="prefetch" href="/learningblog/assets/js/214.52a7eea3.js"><link rel="prefetch" href="/learningblog/assets/js/215.34a91f83.js"><link rel="prefetch" href="/learningblog/assets/js/216.d62a4e77.js"><link rel="prefetch" href="/learningblog/assets/js/217.db975dbd.js"><link rel="prefetch" href="/learningblog/assets/js/22.2c173103.js"><link rel="prefetch" href="/learningblog/assets/js/23.31d63383.js"><link rel="prefetch" href="/learningblog/assets/js/24.a10b8e15.js"><link rel="prefetch" href="/learningblog/assets/js/25.f17c9a0c.js"><link rel="prefetch" href="/learningblog/assets/js/26.27482f9d.js"><link rel="prefetch" href="/learningblog/assets/js/27.10c9098d.js"><link rel="prefetch" href="/learningblog/assets/js/28.12bf6a9e.js"><link rel="prefetch" href="/learningblog/assets/js/29.03c240d1.js"><link rel="prefetch" href="/learningblog/assets/js/3.1fc3b23a.js"><link rel="prefetch" href="/learningblog/assets/js/30.f2263db5.js"><link rel="prefetch" href="/learningblog/assets/js/31.6bdedc38.js"><link rel="prefetch" href="/learningblog/assets/js/32.0ba45259.js"><link rel="prefetch" href="/learningblog/assets/js/33.2d61d05b.js"><link rel="prefetch" href="/learningblog/assets/js/34.aefbc5f5.js"><link rel="prefetch" href="/learningblog/assets/js/35.74cabe24.js"><link rel="prefetch" href="/learningblog/assets/js/36.db5fa8d5.js"><link rel="prefetch" href="/learningblog/assets/js/37.c50e4403.js"><link rel="prefetch" href="/learningblog/assets/js/38.ec39afce.js"><link rel="prefetch" href="/learningblog/assets/js/39.cb0043cc.js"><link rel="prefetch" href="/learningblog/assets/js/4.d09d278d.js"><link rel="prefetch" href="/learningblog/assets/js/40.96a800d8.js"><link rel="prefetch" href="/learningblog/assets/js/41.4acf51f1.js"><link rel="prefetch" href="/learningblog/assets/js/42.a7e703a8.js"><link rel="prefetch" href="/learningblog/assets/js/43.80d3531a.js"><link rel="prefetch" href="/learningblog/assets/js/44.12cca6f4.js"><link rel="prefetch" href="/learningblog/assets/js/45.184d775c.js"><link rel="prefetch" href="/learningblog/assets/js/46.35d81277.js"><link rel="prefetch" href="/learningblog/assets/js/47.5ee0a31d.js"><link rel="prefetch" href="/learningblog/assets/js/48.f581d270.js"><link rel="prefetch" href="/learningblog/assets/js/49.9acdb9d7.js"><link rel="prefetch" href="/learningblog/assets/js/5.bbdd072e.js"><link rel="prefetch" href="/learningblog/assets/js/50.a8dc6fc1.js"><link rel="prefetch" href="/learningblog/assets/js/51.0ccb0255.js"><link rel="prefetch" href="/learningblog/assets/js/52.4bab8582.js"><link rel="prefetch" href="/learningblog/assets/js/53.2ca7b0f0.js"><link rel="prefetch" href="/learningblog/assets/js/54.c5a60938.js"><link rel="prefetch" href="/learningblog/assets/js/55.8e201814.js"><link rel="prefetch" href="/learningblog/assets/js/56.dbe6e107.js"><link rel="prefetch" href="/learningblog/assets/js/57.3703a62f.js"><link rel="prefetch" href="/learningblog/assets/js/58.a2ad10fa.js"><link rel="prefetch" href="/learningblog/assets/js/59.c1a87531.js"><link rel="prefetch" href="/learningblog/assets/js/6.a66d0523.js"><link rel="prefetch" href="/learningblog/assets/js/60.4d073e9e.js"><link rel="prefetch" href="/learningblog/assets/js/61.f14f1409.js"><link rel="prefetch" href="/learningblog/assets/js/62.9c6978c3.js"><link rel="prefetch" href="/learningblog/assets/js/63.875b3e8a.js"><link rel="prefetch" href="/learningblog/assets/js/64.dcc69061.js"><link rel="prefetch" href="/learningblog/assets/js/65.efd14c94.js"><link rel="prefetch" href="/learningblog/assets/js/66.a64054ed.js"><link rel="prefetch" href="/learningblog/assets/js/67.19acd48e.js"><link rel="prefetch" href="/learningblog/assets/js/68.6a3d2d28.js"><link rel="prefetch" href="/learningblog/assets/js/69.74082531.js"><link rel="prefetch" href="/learningblog/assets/js/7.411e70b8.js"><link rel="prefetch" href="/learningblog/assets/js/70.646c22e4.js"><link rel="prefetch" href="/learningblog/assets/js/71.323c0d4e.js"><link rel="prefetch" href="/learningblog/assets/js/72.77852999.js"><link rel="prefetch" href="/learningblog/assets/js/73.b42c63ad.js"><link rel="prefetch" href="/learningblog/assets/js/74.83f66ecb.js"><link rel="prefetch" href="/learningblog/assets/js/75.7d8c3414.js"><link rel="prefetch" href="/learningblog/assets/js/76.f39748c0.js"><link rel="prefetch" href="/learningblog/assets/js/77.c2257c7e.js"><link rel="prefetch" href="/learningblog/assets/js/78.b88e060f.js"><link rel="prefetch" href="/learningblog/assets/js/79.f89e3bb3.js"><link rel="prefetch" href="/learningblog/assets/js/8.89f5f6e1.js"><link rel="prefetch" href="/learningblog/assets/js/80.523ebb59.js"><link rel="prefetch" href="/learningblog/assets/js/81.f6537f9e.js"><link rel="prefetch" href="/learningblog/assets/js/82.98cb9e9a.js"><link rel="prefetch" href="/learningblog/assets/js/83.63e9703f.js"><link rel="prefetch" href="/learningblog/assets/js/84.ffafc248.js"><link rel="prefetch" href="/learningblog/assets/js/85.b7c63bcb.js"><link rel="prefetch" href="/learningblog/assets/js/86.e5468920.js"><link rel="prefetch" href="/learningblog/assets/js/87.a2624c9b.js"><link rel="prefetch" href="/learningblog/assets/js/88.c5623550.js"><link rel="prefetch" href="/learningblog/assets/js/89.813054b9.js"><link rel="prefetch" href="/learningblog/assets/js/9.ba3df3ea.js"><link rel="prefetch" href="/learningblog/assets/js/90.f287142a.js"><link rel="prefetch" href="/learningblog/assets/js/91.f70c350e.js"><link rel="prefetch" href="/learningblog/assets/js/92.b0f38a5c.js"><link rel="prefetch" href="/learningblog/assets/js/93.15039cb6.js"><link rel="prefetch" href="/learningblog/assets/js/94.e451c01f.js"><link rel="prefetch" href="/learningblog/assets/js/95.c3e3a96d.js"><link rel="prefetch" href="/learningblog/assets/js/96.5ade6a89.js"><link rel="prefetch" href="/learningblog/assets/js/97.2a4abe5b.js"><link rel="prefetch" href="/learningblog/assets/js/98.6d3fa983.js"><link rel="prefetch" href="/learningblog/assets/js/99.a19705e0.js">
    <link rel="stylesheet" href="/learningblog/assets/css/0.styles.ffcfda16.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/learningblog/" class="home-link router-link-active"><img src="/learningblog/title.jpg" alt="学习笔记" class="logo"> <span class="site-name can-hide">学习笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="速记" class="dropdown-title"><span class="title">速记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/learningblog/知识点速记/正则表达式.html" class="nav-link">
  正则表达式
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据结构与算法" class="dropdown-title"><span class="title">数据结构与算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/learningblog/数据结构与算法/数据结构与算法/01-数据结构与算法.html" class="nav-link">
  数据结构与算法
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/数据结构与算法/刷题/" class="nav-link">
  算法刷题
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试" class="dropdown-title"><span class="title">面试</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/learningblog/interview/1-css面试题/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/interview/2-js面试题/" class="nav-link">
  JS
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/interview/3-h5移动端/" class="nav-link">
  H5和移动端
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/interview/4-webpack面试题/" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/interview/5-vue面试题/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/interview/6-react面试题/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/interview/7-浏览器网络面试题/" class="nav-link">
  浏览器网络
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/interview/8-面经/" class="nav-link">
  面经汇总
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端基础" class="dropdown-title"><span class="title">前端基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/learningblog/fontend/0-HTML和CSS笔记/" class="nav-link">
  HTML和CSS笔记
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/fontend/1-JavaScript笔记/" class="nav-link">
  JavaScript笔记
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/fontend/2-H5和移动端/" class="nav-link">
  H5移动端笔记
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/fontend/3-ES6/" class="nav-link">
  ECMAScript6笔记
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/fontend/4-Webpack/" class="nav-link">
  Webpack笔记
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/fontend/5-Vue基础/" class="nav-link">
  Vue基础
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/fontend/6-Vue进阶/" class="nav-link">
  Vue进阶
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/fontend/7-React基础/" class="nav-link">
  React基础
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/fontend/8-React进阶/" class="nav-link">
  React进阶
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/fontend/9-Node/" class="nav-link">
  Node
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/fontend/10-Git/" class="nav-link">
  Git
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端进阶" class="dropdown-title"><span class="title">前端进阶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/learningblog/fontendplus/1-koa/" class="nav-link">
  koa
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/fontendplus/2-egg/" class="nav-link">
  eggJs
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/fontendplus/3-ts/" class="nav-link">
  typescript
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/fontendplus/4-vue3/" class="nav-link">
  vue3
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/fontendplus/5-浏览器工作原理实践/" class="nav-link">
  浏览器工作原理实践
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/fontendplus/6-设计模式/" class="nav-link">
  设计模式
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目" class="dropdown-title"><span class="title">项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/learningblog/project/1-个人博客/" class="nav-link">
  个人博客
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/project/2-vue多媒体/" class="nav-link">
  vue多媒体
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/project/3-b站移动端/" class="nav-link">
  弹幕视频网
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/project/4-直播项目/" class="nav-link">
  直播项目
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><span class="title">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/learningblog/计算机基础/计算机组成原理/" class="nav-link">
  计算机组成原理
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/计算机基础/操作系统/" class="nav-link">
  操作系统
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/计算机基础/计算机网络/" class="nav-link">
  计算机网络
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="tools" class="dropdown-title"><span class="title">tools</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/learningblog/tools/mock/mock.html" class="nav-link">
  mockJs
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/tools/swiper/swiper.html" class="nav-link">
  swiper
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/tools/axios/axios.html" class="nav-link">
  axios
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端文档" class="dropdown-title"><span class="title">前端文档</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          官方文档
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://www.w3school.com.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  W3C
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://developer.mozilla.org/zh-CN/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MDN文档
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://wangdoc.com/javascript/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  网道JS教程
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="http://jquery.cuishifeng.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  jquery文档
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://es6.ruanyifeng.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ES6阮一峰
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://cn.vuejs.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue官方文档
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://uniapp.dcloud.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Uni-app官网
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://www.webpackjs.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Webpack官方文档
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://react.docschina.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  React官方文档
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://www.wikipedia.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  维基百科
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>
          工具
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://element.eleme.cn/#/zh-CN" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VUE-element-ui
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://www.vuepress.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VUE-vue-press博客搭建
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://youzan.github.io/vant/#/zh-CN/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VUE-vant
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://dev.dcloud.net.cn/mui/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MUI文档
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://ant.design/index-cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  AntDesign
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://didi.github.io/cube-ui/#/zh-CN" target="_blank" rel="noopener noreferrer" class="nav-link external">
  cube
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://www.echartsjs.com/zh/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  echart图
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://www.swiper.com.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Swiper
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://ustbhuangyi.github.io/better-scroll/doc/zh-hans/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  better-scroll
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://ai.qq.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  腾讯AI
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://www.lodashjs.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  lodash中文
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://daneden.github.io/animate.css/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  动画animate
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="http://mockjs.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  随机数据mock
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://www.iconfont.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  阿里图标
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://bird.ioliu.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  跨域处理-服务器代理
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://regexper.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  正则可视化
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="http://tool.chinaz.com/tools/imgtobase/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  base64
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端博客" class="dropdown-title"><span class="title">前端博客</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          博客论坛
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="http://www.ruanyifeng.com/blog/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  阮一峰博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://www.zhangxinxu.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  张鑫旭博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://www.zhihu.com/people/evanyou" target="_blank" rel="noopener noreferrer" class="nav-link external">
  尤雨溪知乎
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://weibo.com/arttechdesign?is_hot=1" target="_blank" rel="noopener noreferrer" class="nav-link external">
  尤雨溪微博
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://segmentfault.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  思否
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://juejin.im/timeline" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://time.geekbang.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  极客时间
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://www.jianshu.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  简书
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>
          面试题
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://juejin.im/post/6844904116339261447#heading-14" target="_blank" rel="noopener noreferrer" class="nav-link external">
  2020前端复习
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://cn.history.js.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JavaScript20年
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://ustbhuangyi.github.io/vue-analysis/v2/prepare/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue源码
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="http://www.youbaobao.xyz/admin-docs/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  小慕读书文档
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://www.jianshu.com/p/38853c044156" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JS数据结构和算法
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://book.apeland.cn/details/314/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  小猿圈
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://www.kancloud.cn/hanxuming/vue-iq/945437" target="_blank" rel="noopener noreferrer" class="nav-link external">
  面试题-看云
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://github.com/haizlin/fe-interview" target="_blank" rel="noopener noreferrer" class="nav-link external">
  面试题-github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>
          刷题
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://www.nowcoder.com/contestRoom" target="_blank" rel="noopener noreferrer" class="nav-link external">
  牛客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://leetcode-cn.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  leetcode
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://github.com/chenzhiwei0109/learningblog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  源码
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="速记" class="dropdown-title"><span class="title">速记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/learningblog/知识点速记/正则表达式.html" class="nav-link">
  正则表达式
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据结构与算法" class="dropdown-title"><span class="title">数据结构与算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/learningblog/数据结构与算法/数据结构与算法/01-数据结构与算法.html" class="nav-link">
  数据结构与算法
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/数据结构与算法/刷题/" class="nav-link">
  算法刷题
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试" class="dropdown-title"><span class="title">面试</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/learningblog/interview/1-css面试题/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/interview/2-js面试题/" class="nav-link">
  JS
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/interview/3-h5移动端/" class="nav-link">
  H5和移动端
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/interview/4-webpack面试题/" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/interview/5-vue面试题/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/interview/6-react面试题/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/interview/7-浏览器网络面试题/" class="nav-link">
  浏览器网络
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/interview/8-面经/" class="nav-link">
  面经汇总
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端基础" class="dropdown-title"><span class="title">前端基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/learningblog/fontend/0-HTML和CSS笔记/" class="nav-link">
  HTML和CSS笔记
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/fontend/1-JavaScript笔记/" class="nav-link">
  JavaScript笔记
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/fontend/2-H5和移动端/" class="nav-link">
  H5移动端笔记
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/fontend/3-ES6/" class="nav-link">
  ECMAScript6笔记
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/fontend/4-Webpack/" class="nav-link">
  Webpack笔记
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/fontend/5-Vue基础/" class="nav-link">
  Vue基础
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/fontend/6-Vue进阶/" class="nav-link">
  Vue进阶
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/fontend/7-React基础/" class="nav-link">
  React基础
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/fontend/8-React进阶/" class="nav-link">
  React进阶
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/fontend/9-Node/" class="nav-link">
  Node
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/fontend/10-Git/" class="nav-link">
  Git
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端进阶" class="dropdown-title"><span class="title">前端进阶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/learningblog/fontendplus/1-koa/" class="nav-link">
  koa
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/fontendplus/2-egg/" class="nav-link">
  eggJs
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/fontendplus/3-ts/" class="nav-link">
  typescript
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/fontendplus/4-vue3/" class="nav-link">
  vue3
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/fontendplus/5-浏览器工作原理实践/" class="nav-link">
  浏览器工作原理实践
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/fontendplus/6-设计模式/" class="nav-link">
  设计模式
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目" class="dropdown-title"><span class="title">项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/learningblog/project/1-个人博客/" class="nav-link">
  个人博客
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/project/2-vue多媒体/" class="nav-link">
  vue多媒体
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/project/3-b站移动端/" class="nav-link">
  弹幕视频网
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/project/4-直播项目/" class="nav-link">
  直播项目
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><span class="title">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/learningblog/计算机基础/计算机组成原理/" class="nav-link">
  计算机组成原理
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/计算机基础/操作系统/" class="nav-link">
  操作系统
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/计算机基础/计算机网络/" class="nav-link">
  计算机网络
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="tools" class="dropdown-title"><span class="title">tools</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/learningblog/tools/mock/mock.html" class="nav-link">
  mockJs
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/tools/swiper/swiper.html" class="nav-link">
  swiper
</a></li><li class="dropdown-item"><!----> <a href="/learningblog/tools/axios/axios.html" class="nav-link">
  axios
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端文档" class="dropdown-title"><span class="title">前端文档</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          官方文档
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://www.w3school.com.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  W3C
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://developer.mozilla.org/zh-CN/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MDN文档
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://wangdoc.com/javascript/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  网道JS教程
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="http://jquery.cuishifeng.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  jquery文档
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://es6.ruanyifeng.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ES6阮一峰
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://cn.vuejs.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue官方文档
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://uniapp.dcloud.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Uni-app官网
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://www.webpackjs.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Webpack官方文档
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://react.docschina.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  React官方文档
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://www.wikipedia.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  维基百科
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>
          工具
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://element.eleme.cn/#/zh-CN" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VUE-element-ui
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://www.vuepress.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VUE-vue-press博客搭建
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://youzan.github.io/vant/#/zh-CN/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VUE-vant
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://dev.dcloud.net.cn/mui/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MUI文档
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://ant.design/index-cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  AntDesign
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://didi.github.io/cube-ui/#/zh-CN" target="_blank" rel="noopener noreferrer" class="nav-link external">
  cube
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://www.echartsjs.com/zh/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  echart图
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://www.swiper.com.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Swiper
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://ustbhuangyi.github.io/better-scroll/doc/zh-hans/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  better-scroll
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://ai.qq.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  腾讯AI
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://www.lodashjs.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  lodash中文
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://daneden.github.io/animate.css/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  动画animate
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="http://mockjs.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  随机数据mock
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://www.iconfont.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  阿里图标
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://bird.ioliu.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  跨域处理-服务器代理
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://regexper.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  正则可视化
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="http://tool.chinaz.com/tools/imgtobase/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  base64
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端博客" class="dropdown-title"><span class="title">前端博客</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          博客论坛
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="http://www.ruanyifeng.com/blog/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  阮一峰博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://www.zhangxinxu.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  张鑫旭博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://www.zhihu.com/people/evanyou" target="_blank" rel="noopener noreferrer" class="nav-link external">
  尤雨溪知乎
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://weibo.com/arttechdesign?is_hot=1" target="_blank" rel="noopener noreferrer" class="nav-link external">
  尤雨溪微博
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://segmentfault.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  思否
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://juejin.im/timeline" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://time.geekbang.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  极客时间
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://www.jianshu.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  简书
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>
          面试题
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://juejin.im/post/6844904116339261447#heading-14" target="_blank" rel="noopener noreferrer" class="nav-link external">
  2020前端复习
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://cn.history.js.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JavaScript20年
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://ustbhuangyi.github.io/vue-analysis/v2/prepare/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue源码
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="http://www.youbaobao.xyz/admin-docs/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  小慕读书文档
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://www.jianshu.com/p/38853c044156" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JS数据结构和算法
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://book.apeland.cn/details/314/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  小猿圈
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://www.kancloud.cn/hanxuming/vue-iq/945437" target="_blank" rel="noopener noreferrer" class="nav-link external">
  面试题-看云
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://github.com/haizlin/fe-interview" target="_blank" rel="noopener noreferrer" class="nav-link external">
  面试题-github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>
          刷题
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://www.nowcoder.com/contestRoom" target="_blank" rel="noopener noreferrer" class="nav-link external">
  牛客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://leetcode-cn.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  leetcode
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://github.com/chenzhiwei0109/learningblog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  源码
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/learningblog/interview/4-webpack%E9%9D%A2%E8%AF%95%E9%A2%98/" class="sidebar-link">webpack面试题</a></li><li><a href="/learningblog/interview/4-webpack面试题/webpack面试题.html" class="sidebar-link">面试题</a></li><li><a href="/learningblog/interview/4-webpack面试题/webpack手写.html" class="active sidebar-link">webpack手写</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learningblog/interview/4-webpack面试题/webpack手写.html#手写webpack" class="sidebar-link">手写webpack</a></li><li class="sidebar-sub-header"><a href="/learningblog/interview/4-webpack面试题/webpack手写.html#编写loader" class="sidebar-link">编写loader</a></li><li class="sidebar-sub-header"><a href="/learningblog/interview/4-webpack面试题/webpack手写.html#loader和plugin区别" class="sidebar-link">loader和plugin区别</a></li><li class="sidebar-sub-header"><a href="/learningblog/interview/4-webpack面试题/webpack手写.html#如何编写plugin" class="sidebar-link">如何编写plugin</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="webpack手写"><a href="#webpack手写" class="header-anchor">#</a> webpack手写</h1> <p></p><div class="table-of-contents"><ul><li><a href="#手写webpack">手写webpack</a><ul><li><a href="#结构搭建">结构搭建</a></li><li><a href="#创建webpack类">创建webpack类</a></li><li><a href="#编写模块分析函数">编写模块分析函数</a></li><li><a href="#编写依赖图谱函数">编写依赖图谱函数</a></li><li><a href="#编写bundle包运行到浏览器">编写bundle包运行到浏览器</a></li><li><a href="#最终代码">最终代码</a></li></ul></li><li><a href="#编写loader">编写loader</a><ul><li><a href="#less处理">less处理</a></li></ul></li><li><a href="#loader和plugin区别">loader和plugin区别</a></li><li><a href="#如何编写plugin">如何编写plugin</a><ul><li><a href="#插件基本配置">插件基本配置</a></li><li><a href="#compiler钩子-https-www-webpackjs-com-api-compiler-hooks">compiler钩子</a></li><li><a href="#通过node调试工具快速查看内容">通过node调试工具快速查看内容</a></li></ul></li></ul></div>
[TOC]<p></p> <h2 id="手写webpack"><a href="#手写webpack" class="header-anchor">#</a> 手写webpack</h2> <p>源码地址</p> <blockquote><p>完成的功能:</p> <ul><li><p>实现es6-es5的代码polify</p></li> <li><p>实现代码压缩成一行输出</p></li> <li><p>实现了解决重复打包的clean功能</p></li></ul></blockquote> <p>大体步骤</p> <ol><li><p>入口文件webpack.config.js实现了entry和output</p></li> <li><p>使用<code>@babel/parser</code>解析js文件为ast树结构，需要筛选树结构的import节点。</p></li> <li><p>使用<code>@babel/traverse'</code>获取模块字段节点<code>ImportDeclaration</code>并作为当前js文件节点的字节点。</p></li> <li><p>使用<code>@babel/core</code>的<code>babel.transformFromAst</code>解析es6语法，生成模块分析对象。</p></li> <li><p>DFS入口文件的模块分析对象，的生成依赖图谱。</p></li> <li><p>实现exports对象和require函数，生成闭包代码并以字符串形式返回，并在dist目录创建出口文件，把代码输出到dist目录(如果dist目录有内容，就删除dist目录，重新创建)</p></li></ol> <h3 id="结构搭建"><a href="#结构搭建" class="header-anchor">#</a> 结构搭建</h3> <p>创建如下文件</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// src/b.js</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token string">'测试'</span>

<span class="token comment">// src/a.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> b <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./b.js'</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">这是</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>b<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>

<span class="token comment">// src/index.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> a <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./a.js'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
</code></pre></div><p>编写<code>webpack.config.js</code>:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    mode<span class="token operator">:</span> <span class="token string">'development'</span><span class="token punctuation">,</span>
    entry<span class="token operator">:</span> <span class="token string">'./src/index.js'</span><span class="token punctuation">,</span>
    output<span class="token operator">:</span> <span class="token punctuation">{</span>
        path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'./dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        filename<span class="token operator">:</span> <span class="token string">'main.js'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="创建webpack类"><a href="#创建webpack类" class="header-anchor">#</a> 创建webpack类</h3> <div class="language-json extra-class"><pre class="language-json"><code><span class="token comment">//	modules/czwwebpack.js</span>
module.exports = class czwwebpack<span class="token punctuation">{</span>
    constructor(options) <span class="token punctuation">{</span>
        this.options = options
        this.entry = options.entry;
        this.output = options.output;
        this.mode = options.mode
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>bundle.js</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//modules/bundle.js</span>
<span class="token comment">// 拿到配置并分析</span>
<span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../webpack.config.js'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./czwwebpack.js'</span><span class="token punctuation">)</span>
<span class="token keyword">new</span> <span class="token class-name">webpack</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span>
</code></pre></div><p><code>script脚本生成</code></p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;webpack&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node ./modules/bundle.js&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="编写模块分析函数"><a href="#编写模块分析函数" class="header-anchor">#</a> 编写模块分析函数</h3> <ul><li>模块分析函数可以把传入的js文件分析出入口文件，文件的依赖文件，文件的es5形式的代码。</li></ul> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfMAAACPCAYAAADumDJFAAAf70lEQVR4nO3deXhV9b3v8Xd2JkKykxASQiajYCAEAoUQFBqBqAcFaWix4r0Mp+1jLaF4rpZC7b2cOp1yWk84lNMjgkd57LkG75VaveZ6jWJpUCkoyKDBGEhBQyZiQhL2zrTJdP/YQ+Z52Ozk83oenoe11m/91ndjzHf/vr/fWsstISGhhUEwmcyDOV1E+sFiqXd2CCJyAzI4OwAREREZHCVzERERF+cx2A4Kp9w3FHGISB+EfPknZ4dwwwkMCsbX14ibQWMTuXG1NDdTU2OmqqJ8WPofdDIXEXGWwKBg/IwBzg5DpFduBoPjZ7XLhO7bzPb/ZuK/zKvB370Jmnwou+DP7//Zm/9Z03v/+iorIi7L19fo7BBklHru+7d1+fee2vbWDrr5mfVt5H/9ewk/STRZEzmAex0hM0r5p3+v4WHf3uNVMhcRl6XSuvRHxwTd8U93Hnn9kz4l6r606+pn9pGtlSwKbOr6hMCrbNva2Ou19X+CiIgMkTX4/I+/4LfcmTH4sGn5bTx3R1CnIx2T7SOvf+L4M1Q69XVLDM99fzabJnR3RiN3Ta/rsU/vGbVs7+W6Y2rOfFxANeDWbl9zo4HrNT7OCUhkFIi9byNLIs188carHC1zdjQ3mIC1PLPIyInMF3jb2bH0SyJ+9/8Qj+zNVF1wdixDq2Oyfe77t7Xb13G743ndjbw7fknouyb8x/XSxAt6WxkyZpL5uIBqwmZdov5a6+SDwaOJ5kZ3Ss5NdWJkIq4qlpUbl8C5LzBH3uTsYETaqTO3H+12l6T7q6s+eu+7jiuV3R1zx1QP9JTQr8O1XuIadcncy7cOg0dzp/0Tor6h0eJFZcHkdm19g3r7JxLpn7sTphPkb/3SWGGq4c+nzjs5ouERe988qt54gaMksXaWMyOJ56Glq4m1F9jKj7Pt5CHr36M2kjZrMkXnnmZ3QZu25PHqkVc5E7WRtMlf8WrNXNZGW3+b1uW/wRM52bbOlvHY8oVE2C9VZzuvzXWNF5/mb5OfZEkwQD25x55l/7X25y1Z/iRLaHu8jx9t2i+JXBjl2Lz+5R/45sRJADwW7GTyjNaqYvXx1lG0x4KdBPEa1wJ+SEh45+P2kXegn327gLL//C0WwPvv9jjOYeEe/BZ2vnbvtuL36xVYo8un6h9/REMfzxy8OvZmdj2yHkhCH/iI2+arPB75qqcGHryTPZ55ibXdtrB8OZ4dvVzGI3GKLycv9WHd+zC7eVoEXCji625bBDFnGnx2oaLHfibeUsy4gO4/T9isi+22247URQZr7V3zGeft6dj28/Fm7V3zefXwp06Manjk/r9XrX8JcW4cKxNXE1tznG1HDmFPsM/ElVgTcsELvGp8nLWzNrKy4AWK4la0JnJ7B8ELWctxtmUespXFV/BQUTb7r8Xz0NKFBOW/wbacbEffaxOXccb+ZQGImPWktc3JbFYmPsmSacvg5CF2O/obYJl92i+JXBhM1dubqb7a+djkGeWOBGxtu5PGq1sdbb1m/JCAL/9A4fsnrYk//qdUX3ieRsBjwYMEmg5T+Kc3Ol3W8v5mCgdZZvf59mKqX7+TsrPgufkvBG7eStmenf3vaIgNJBl3VV4fdILv4MXfB3Ln7ussmtjFQreqiaTt7H3c7RE1ewne7h9wNM+ZCT2J3z39Haaf+7+s2HG0i4QexKNPPcqTt37Fz9b/gf/sogdPHwsAboZmyvKisJjH93pVd68GJkSV9tru0Wd38Js5tm/ABZ8w/uHXrPuCCjkyIYalfqX84d5n+SlLeef1FJbavu1e+yyDsMeP9Nq/jA53J0xvl8jtxnl7svRbMRw5m+eEqEa7ZdwafIUPMu3JNZv9FxeRNjWeuTnZnAHO5DxLhO+TLIhbS0U05B5rk8jBOtq2J+dr2eTXxWD0B/wXEetzhQ8co/Rs9p+J55lFt7ASWpNz+XHHSP7tK1dYMjWYudD+Gt3yIzjMH29DM5ZrVyivtu9PxC8+iutf/qFzIm9zzGLfdeG3lEXvIWBqItVXbaPn4sOOkXTjxUtcn+GPO+BIF+HT8IbWPvppQmg44z2gsbaY0g4l5Lq/plB31vr3hkv58O2ZeELr6HzCJCKsJ1NUWuU4b8Gmf+HHszuvYbp8+B/49ev2re7+zfpmKMrtAx3ld6vGg/+aNpGjz5QS5dX2gD/v/taXF/uQnj1MLeOYFLeQedV/5nTJ0MTVf0f53s89eGf3d3hnOx0Sui2RT7/C0z/vOpEDGCdfJSDceiN+iLGg2yuZIivwrPPC56ofpV/e3HtoWx7nN1ML+e/37uXfOh6LioT/2ML4NwBbIp97MYPxjx8BHuSdZ3vvXkaPif7dV3lCJ+h+6GEREEwQk9uUsW3q2r8A6u2Tx7l1uXWUvbsPJe4gYzyYrf0U9dK26ErrKJ2CF9jW/a+ffojCww+uV3Vf1u7pWG8aT2ylLGAPIT/YY+2rXyX0fiqpoIHOK8u7cmLvLzgxPFHc+C54c6wIvusbSIEJ8Ldwa70Pv+5jZcTjeM43JMdPImpGPOdLsnHa+Lz4CCseo0NCtybyX95ayNM/f5F/K+7+9LpKf0cy73RsYjV1QdUE5U3GHFlJwOWJlM8oxqu0Dz9gX5u4tsyf6V0dK/icFfYq1eoZzCWP3zpG4q+x4vHeuxeRwbrCBz2Wsa3lcs4dp2LWah4zZ9vmz7tXYc4GFoGPkQjajLL9jQztvS/VlJd0NbQsoLG650VNXoGJgD0BJ+LpT++rpNqwltMBVhP4gx8yCfqV0CtLi+l2TVdbYUF41lbQbiVT5TcUdXFy30bm3f2b9a7taLrjqHowo+yhGqnnlY+n4Jw/d70M/MhE/izo63dDQ03eGS5VNOEeGE7cpEHFMXjFR1jxWCZfz/kOWU/dzeP//ChP3lrIb3/RcyIHqKvyo7nJvdN+U2QFJQlf41tqXdjf4HOd8WVGmjybMH33BM1evdyM/8Zewg7BD9/dRe27j/N8d+1u9iegsqLz6F3GjKum7r8K93RMBuFaNvl1k1mSuKzbJnNt8+QfFBxi97krRMzayMqe2vpc4W8FQMFXFDGZBXHxtqPxPDR1MnX5x/o+/32tnAomc2tU703bO0l9QR1+C3+JdzfHvGbc1Xps2l0E+hVwbUCja+sXh47XaDCBX/TqAfTX1hp85kbTcPkTunkkSjsn9v6Cn2z6h05/WhP50LIn4P7Mgff1aXAD5W1LY1HunRdy98QDasj5poqYoIkERADfDCqOwXOM0FN4/PqXPN2HRG5XV2nEN7h1/sUUWUF5XDERH0/F2+RDs6f1x8nQ4E7o51GUxhdSducXkHML1Ht11y3sepbxu4Atj1P7+ibOf39v1+0mBPEoKKGPUX8+db7TAjiAekvDqFzRHvzttdw/q3X6YObqjcxkpO83z2b/EXho6WrSli907LWvSJ8b9zhr286TFxwjd+pqlizfCPbRvE8Ma5c/yVqg/Sj/ELsz4bHlq0mzJ7Xy47bFcH11iN3nbiFt1pOkzYL+rGZvPLGVK+xksq0UDq3l8M7H6qh6e2sf5787rmQHig9T2OGLgOX9w1T/4C4if3BXu2v3hc+3/4LPt61/b8jdR1X6wT6dN5x6Gjn3dWTd1T3p9vOHwhdFXkz67mXyVwCM42//p+/vHXBLSEhogXncvfpmxpVl8/ZH/VukkxO8uH/RDiO/SZWExLQWJS4tO0fgV8EE5VlvR6ubWE1FTCkRH1vvK2/2bOLrpV9Cxm24ne7DvearN1HyE3/evPdZzj+7g98Efc74h1+zHXyQ0+/eRphj0duDvPNsKSu0AG7MuTthumP+vLTSPKQL3/TWtPYiowf5jIiojaRNNbdf3S6jUm8Ph+nrdk+j+L4m98L8iz0eH4hRdZ95XWX7RUZRH03jSsLXeNR54V8YRF1QNT5Xrb9kmz2bKLrtIkGfR1HZUyLf8ji1y0LtV+DIf2znp8CjnRq+xrx74fS7KdS+mwJA7qEtQ/GxxMWMxlG4iKvr7SlvvT3hrbu59o5tBltmHyjryPymRayYP5mmwo9470T/6mM30sgcwBhagVubuYYW7wbM3/2EcZ/dQkPEVby+CsWjKAjzd08w7rOb8fwiCnNfFsKJ3AA0Mm8vIuqWwb1sRSNzGWEtzc0UFfT4FJkB8QAICTUyjiaumlz/wcpdJua9K6ibUkpLXAFNX0RDnRct782jPieK+pEPUUSGSE2NeXDvMx+yW8lE+qamxtx7owHwgBimh/pC41Wu5A7LNZyv3gu3HNty0krrqg/Htoi4rKoK6+2ovr5GvQ5Vbmgtzc3U1JgdP7NDzSPmjulM8gJTfg6jfaZPCVxk9KmqKB+2X5AirsIQH+JFk/lrzp1y/RK7iIjIWOTRdK2A05+c5oqzIxEREZEBcVuckNAymGdTmUxDO5mfkDCPU6dOD2mfIqOFxaIlmyLSmUEPmRQREXFtWv4pIiLi4pTMRUREXJySuYiIiItTMhcREXFxSuYjxLhlAyl7F2PsvamIiEi/jOlkvj+tlrPvtd5at/upOs6+Z+bse2ZeSqsd0muZd71CxqYPGZ6n8sqNInhmJAu23EfwzEjHPt/JgSzYsoKIRdOcGJmIjGaj6hWog5GyrIGlCxs58KYXAHcuaiQ8tJni0jH9fUdERFyAkrlNeKj1tanFpW4ceNOLtH3efT7XuGUDyfP8bVuFnFz/FiVdtZl4ioztOUAcienJhAFgInffK1w4OvjPICIiY5OSuU3GIU/Wf6+BbakWkhc1su8Vbz793L0PZ4YQNjGfrPXWEnrYjs0k7oizJe2u20/bmwyZe8g4MIQfQERExizVkG2KSw2s2TSeI8c9mD+7iZfSaklZ1tCHM8u4sL11Lrwkp7DX9uYK8AsNGWTEIiIiVhqZt2GuceOxp3wID23m4N5aUtdfJ+OQZ+8nrltFyvLWBU/k5/XYvGT7QYx715CSDubTB8napTfWiYjIwI25ZJ66wUL4pBYy3vfEz7fFsd9eXv/VznFU17hhqnajui8Prl+3ipSkSrLWv2Udna9bRUpcbyeVcWHTHi4QwrS9a0hct4eTKrmPCi1NLRjcDYwLHO/Y5xcWgMHdncY6ixMjE5HRbMwlc6OvdeW6vYS+L926ej3rmAfrvned/W1uSXviX8f13l+oP1TkOcrsYXGRgHVkHrZjM7FXexp5W0vuEaEhgEbno4EpvwzLtVrCE2+lsb6BhprrRC6cTkOthapL+m8sIsNjzCXztH3eZLzvyfSpTZy/6M75i9ZlA59+7s4d9/sxf3YTAOcvGvp0W5p517vk7l1DSnoyACX5vc2ZW0fjsfanx+RnkaEy+6jRUHedi5lnmXrfXKbcMweA+qoaLmV+huXa0D67QETEzi0hIaGl92bd0/vM+8a4ZQPzeVfz4zIoep+5iHRFq9lHRAhhMf5UlyqRi4jI0BtzZfaR1aaknp+l+8pFRGRYKJkPK/uqdRERkeGjMruIiIiLUzIXERFxcUrmIiIiLk7JXERExMUpmYuIiLg4JXMREREXp2QuIiLi4pTMRUREXJyS+aDFkZi+gWlJvbc0btlAyt7FGHtvKiIi0mdjOpnvT6vl7HutL4rZ/VQdZ98zc/Y9My+lDf0brsy7XiFj04cM7atp5EYSPDOSBVvuI3hmpGOf7+RAFmxZQcSiaU6MTERGMz3O1SZlWQNLFzZy4E3r+83vXNRIeGhzn16DKiIi4kxK5jbhoc0AFJe6ceBNL9L2efevg+jFJKfGW0vo5myyuhiBG7dsIHniKTK252AtzycTBoCJ3H2vcOHoYD+FiIiMRUrmNhmHPFn/vQa2pVpIXtTIvle8+fRz9z6e7U9sEmSt34MZCNuxmeQd5bak3ZUQpu1Nhsw9epOaiIgMmmrINsWlBtZsGs+R4x7Mn93ES2m1pCxr6OPZJnIPtI7ESzKzMUfH2EbdXSnDXAF+oSGDjltERETJvA1zjRuPPeXDir/3pbrGjdT11wfW0dFyqntpUrL9IEUxa0hJ30zyFiV1EREZuDGXzFM3WHjm5/XMn92En2+LY/+2VAuvPV9LwuwmjH5gqnajumaAF0kKxs9c2UtCt77rPGO9NaknrhvgteSG0tLUgsHdwLjA8Y59fmEBGNzdaayzODEyERnNxtycudHXunLdXkLfl25dvZ51zIN137vO/ja3pD3xr+P62Ks/scvjuHA0Bwhh2rp4yDtoLbuvW0VKUiVZmz7s5lxryT0iNAQoG+CnkhuFKb8My7VawhNvpbG+gYaa60QunE5DrYWqS/rvKyLDY8wl87R93mS878n0qU2cv+jO+YvW4sSnn7tzx/1+zJ/dBMD5i4Z+3JZmIvdqDCnpydbN/CwydvX0izuEaXvXEGt/ekyv7cVVNNRd52LmWabeN5cp98wBoL6qhkuZn2G5NvTPLhARAXBLSEho6b1Z90ymoX0ESkLCPE6dOj2kfd4ojFs2MJ93yVLilgGyWOqdHYKI3IDG3Jy584QQFuNPdakSuYiIDK0xV2YfeW1K6vlZuq9cRESGnJL5sLOuWr/g7DBERGTUMsT4OTsEERERGQxD3IJ4fJ0dhYiIiAyYwd0/hCnOjkJEREQGzIDBgKezoxAREZEBM1Bfq+eOiYiIuDDDN3mfUeDsKERERGTADEfzBvo2EREREbkReJxe9jzeteUYK84zsfg4vlWXnB2TiIiI9IOhxc2det9QyqIWk3vb41yO07s4+yeWl1/cyMtrBnJuMDt/t5adtw9BGLcn8daLQ9SXiIi4lE5PgCuLWozFZyIxp37vjHhG1P406/vLv3WP9fVlu5+qY+nCRsD6FrUfbxvf0+k2ufzo4dxhjLKPPj7Kqo+dHcTY9fO/X0zEpAC+Kq7k+f/9V5qare8vcje48ei6O4gMDeDIyYtkfJDj5EhFZDTq8kUrpuCZY26EnrKsgaULGznwphcH3vQiIrSF8NBmZ4clLqShsYmJAeOZEjnRsW9WTBgTA8c7kruIyHDo9tnsZVGLx9Qcuj1xF5e6ceBNL9L2effxzFhefnEeV/e/ytaPYesTG7mj4gPypi5hrh9AEZkPv81OW+sHHllL6hxrJaD6sw/I69Db1ic2sjwK2/E/seq5cus5Uy+z72dH+aO9DR9w1zNtKgK3J/HWQ4F8ZLtW2+tQ0KGtDIvGpma8PN2ZMz2MvMvlAEyLDqapqYUmg74YisjwMdQ9OZdLG0K6PHg1fOEIh+M8GYc8qa5xY1uqhZfSapk/u2nAffnNmQevvcBdD79AZkEEy5+ItR5Ys9KalB+2Hktnni3hWz3wyFprkn74Be56+E/kTb2fl9fAH587xBlmsmINcHsSd0QVkdlTcu5wHSXykVFnaeRqVQ03h0/Ed5wXQQHjuTUqmK+KKzQyF5FhZfB5+gxTXun6sTHmoOkjHI7zFJcaWLNpPEeOezB/dhMvpdWSsqxhQH1Vf3aIrbb56525RTAhmAcIZufCCC4ft46uwZakq+1nxbJiDpw5ZE+85Xxy0UzQpGCgnK2vfUHQwiR2LptJxfutI/0uXa6i2i+Q6AFFL4OR+9U3BPqNIyY6mGnRIXh7eZBfXOnssERklOvxFaiW8cEjFccNwVzjxmNP+RAe2szBvbWkrr9OxqFBPuz2chXVjgKHmauXe2psZO5DGzn8UJtdBdZkzsdH+WiZrbx+sJdrfnyUVTet5PCLG1neocwvw+vr4irmz2wiPiYMTw93TNX1lJSbnB2WiIxyHi3/9C3OfPIV896+5uxYRkTqBgvhk1rIeN8TP9/W0ue2VAvJixr51c5xVNe4Yap2o3rIn6djZOJNgGPVeTAT/eCq43gPiff2JO6YUMRllvDymlx+1FtCP/i2NemvWcnh3yWR/7PWioAMn6tVNVwqrGBKZBBubnDyi0KaVWIXkWFmmPJXCzPmhLK5i4PeteUjHtBwM/paV66/lFbL9KnN7Ev3AiDrmAfhoc3sT6vltedrCA9tJv1NryG8srVsftPCJB6w7XngkXnc5Dieyxdt59fbCWbngzOpOP42Pzpe1NrH7Um89eJKtvZ0WZXcR1ze5XLGj/PE4Gbgy0vfODscERkDPAINQFMzXc3qGSvOj3Q8wy5tnzcZ73syfWoT5y+6c/6i9e68Tz935477/RwL385fNFBc2uWdewP2x+deJfqJjaS+OJNUrKvZz1TPcxzf+cyfmPy7+zn84hLbHjNn9r/KlWX3M7fSXl5/m8zYjaQ+Uc4fD3VzoTUrOfx3Ee36UJl95GRfKGFxwhTM1fVcKrzK9Ju7XmAqIjJU3Oos9S1/+Use931k6XQw9pNne701zWQyD2lACQnzOHXq9JD2OSbcnsRbD0K6yumjmsVS7+wQROQG5OHz9LkuD4QUfDhm7jEfDR6YfxN+laeVyEVExqAuV7P7l3/BTTkHRjoWGYDWh8MUkXkjPFZWRERGXKdkHlLwoRK5C/njc69qNC4iMsZ5uLU06RWoIiIiLsxj3qGfOjsGERERGYShvfdqCGglu4iISP/ccMlcRERE+kfJXERExMUpmYuIiLg4JXMREREXp2QuIiLi4pTMXUXSYpLTVxE2QpczbtlAyo64nhslLSY5fQPTkkYmJhER6VqXj3MdLfan1ZIwu4lv3WMEYPdTdSxd2AhY35L2423jnRme6zv6IVlHnR3EjSV4ZiRT7pnDpfc+o/yLQgB8Jwcyc+0iij7+G0XHLjg5QhEZjUZ1Mm8rZVkDSxc2csD2jvI7FzUSHto85K85FRERGWljJpmHhzYDUFzqxoE3vUjb593HM+NITE/g2mkTsfMiASjJ3MNJVpGyvM32AWDdKlKSKsna9CH2F8OG7dhMbMvfYGIdn9r3r1tFynI4uf4tSuzbcXlkbM+xXS/ZVk43kbvvFS60Hf2ua70u+Vm2c2zXuZpFUUwyscbO5xq3bCB5nr+tk8LWa3fs03asuu0/QdJiklPj4fRBsnaVddg/gVxbX+2u0SY2EREZXmNmWJpxyJPqGje2pVp4Ka2W+bOb+nG2P7ET88hYv4eMzELClm+2Jl/Htm0u+0AeJcZowhxzyHFERheS+4+nKaJ1vzEUzGZ/jLbtsLhISnJygBCm7U2GzD3WvvflE5Hadp48kkT7ddcfJDcomeQtIY6jxnkJcMB2bqaJWMe5IYRNzCdrvfXYyfxIEu3z4Y4vFtZjWacrO3z2OBJT46nO3NM+kXe0bhXJMa3XUCIXERk5YyaZF5caWLNpPEeOezB/dhMvpdWSsqyhj2ebyM20JacDeZR02rYn5hwK8/0JiLadti6GsPw8SijDXOFPxIIQIISwGCjKw7FtDCqk8ACwbhGxZJNrf2nd0S8papP0oZCTjiRZxoWjhRhjZmC07TGffrd1FH/gGLnmSCLX2dpub60WlOQUOj5ZWFwkJZmto3Tzrg9bR+wEM21vMn6nD1orDz3Jr8RsnIBfL81ERGTojZkyO4C5xo3HnvIhPLSZg3trSV1/nYxDnkN6jZKcQhLj4oAc24j7rTb7QyApmIiKPLJOBBOx3LZNJZ/aOzDGk5we377PaCC/i4vlV2LudiV5GeYKCLBvtiulA/l5WL9ImLjWVd8A0fHEmrN7HpHbHf2QrOhVpKRvplMZX0REhtWoS+apGyyET2oh431P/HxbHPu3pVpIXtTIr3aOo7rGDVO1G9U1wxDAgWPk7l1EGBAZXUjhdvv+PErSYwiLhuqcD+FoHNWp1m3yjjlGzd3ONXeVtKMnYKzIwwxdjIjbJGr7XP76t1rn7B13ndkqCV2tSs/P4iTJJO8o71vZ/MBbZNjXDuxd3G7twFjR0tSCwd3AuMDWOyX8wgIwuLvTWGdxYmQiMpqNujK70de6cv2ltFqmT21mX7p19XrWMQ/CQ5vZn1bLa8/XEB7aTLptZfvQKqMkz5/IHTH4nT7WZnRaxjWzP7FJ/raRsLUkH5vkT9EJ28j3QB4l0ckkruuu70hiHXPkcSQut8+1WxnnLXLMrxu33Ess+ZQcBWOoP1SUty7Ki7OP0MsoyTO1zvkDxi2L293LXrLdOjfvuOe8L/e7j+GSuym/DMu1WsITb2Vywi1MjI0gcuF0GmotVF3qQ4VDRGQARt3IPG2fNxnvezJ9ahPnL7pz/qL1+8qnn7tzx/1+joVv5y8ahu22NPOJfPxSoynKbPvLu4ySPIiNsSZYgJIcE4nLwewYFedwcl8wyambSVlu7yy7zQi3kCLuJSXdumLcfPogWW3mss2nK4lM30yire3J9bbzdr1L7t41pKQnW6+b3zpnbt71CllbNpCcvrn1eu0+TRkXNmURkJ5Myt7gdtdrp10Z37qSfiyW2RvqrnMx8yxT75vLlHvmAFBfVcOlzM+wXKt1cnQiMlq5JSQktPTerHsm01grpPZB0mKS19F6K9oIsN6adrBv89tDxQmfc6yzWOqdHYKI3IBGXZn9RhC2PJ7qo6M/wRkXRGNsU74XERHnGHVldqeyl5rzs6wLwUap1ofDFHJyve4nFxFxNpXZRVyIyuwi0hWV2UVERFyckrmIiIiLUzIXERFxcUrmIiIiLk7JXERExMUpmYuIiLg4JXMREREXp2QuIiLi4pTMRUREXJySuYiIiIsz3HNHPFFj8cXTIiIio4TBNySGxKV3kzg10NmxiIiIyAAYTuZ9Q427P1Fz7mTl0nhCnB2RiIiI9IuhIPscX1+1vonJyzcAo5MDEhERkf7xuHvlnfh7QVN1EdknP+GSsyMSERGRfvHwd6/hm7wczmQXUOPsaERERKTfPE4efo+CameHISIiIgNlUCIXERFxbXpojIiIiItTMhcREXFxSuYiIiIuTslcRETExSmZi4iIuDglcxERERenZC4iIuLilMxFRERcnJK5iIiIi1MyFxERcXFK5iIiIi5OyVxERMTFKZmLiIi4OCVzERERF/f/AeMslkKkUYc/AAAAAElFTkSuQmCC" alt="image-20200930210831406"></p> <p>创建并执行<code>moduleAnalyser</code>函数，用于获取传入的文件<code>index.js</code>对应的内容，并把内容打印出来:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token keyword">class</span> <span class="token class-name">czwwebpack</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>entry <span class="token operator">=</span> options<span class="token punctuation">.</span>entry
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">moduleAnalyser</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>entry<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//创建函数</span>
    <span class="token keyword">const</span> <span class="token function-variable function">moduleAnalyser</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">filename</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token comment">//读取index.js的内容</span>
        <span class="token keyword">const</span> content <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>打包出的内容如图，是黑色文本，不容易阅读:</p> <p><img src="/learningblog/assets/img/image-20200930205118682.9d9bf79e.png" alt="image-20200930205118682"></p> <p>安装代码高亮并执行</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> i cli-highlight -g
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code>node ./mywebpack.js <span class="token operator">|</span> highlight
</code></pre></div><p>代码高亮后输出结果：</p> <p><img src="data:image/png;base64,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" alt="image-20200930211434571"></p> <p>引入@babel/parser用来生成抽象语法树</p> <div class="language-bash extra-class"><pre class="language-bash"><code>cnpm i @babel/parser --save
</code></pre></div><p>调用@babel/parser下的parse方法可以形成抽象语法树。通过抽象语法树可以找到入口文件对应依赖关系.</p> <ul><li><p>引入babel/parse</p></li> <li><p>使用esmodule形式执行，官网示例https://babel.docschina.org/docs/en/babel-parser#example</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> parser <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@babel/parser'</span><span class="token punctuation">)</span>
<span class="token comment">//用法:</span>
<span class="token keyword">const</span> ast <span class="token operator">=</span> parser<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>content<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    sourceType<span class="token operator">:</span> <span class="token string">'module'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span>
<span class="token comment">// 引入parser</span>
<span class="token keyword">const</span> parser <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@babel/parser'</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token keyword">class</span> <span class="token class-name">czwwebpack</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">moduleAnalyser</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">filename</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> content <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span> <span class="token string">'utf-8'</span><span class="token punctuation">)</span>
        <span class="token comment">//把文件内容content作为第一个参数传入parser.parse方法，</span>
        <span class="token comment">//第二个参数告知parser使用的是esmodule的代码引入形式，需要使用{sourceType: 'module'}进行处理</span>
        <span class="token keyword">const</span> ast <span class="token operator">=</span> parser<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>content<span class="token punctuation">,</span> <span class="token punctuation">{</span>
            sourceType<span class="token operator">:</span> <span class="token string">'module'</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token comment">//打印ast的program的内容</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ast<span class="token punctuation">.</span>program<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>打印输出结果如下：</p> <ul><li>这里的第一行<code>ImportDeclaration</code>是一个引入语法，很好的把JS代码转换成JS对象</li> <li>我们需要拿到所有的依赖关系,并且去掉非引入节点。如下图依赖关系</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">[</span>
  Node <span class="token punctuation">{</span>
    type<span class="token operator">:</span> <span class="token string">'ImportDeclaration'</span><span class="token punctuation">,</span> <span class="token comment">//引入声明,第一行 import { a } from './a.js'</span>
    start<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    end<span class="token operator">:</span> <span class="token number">26</span><span class="token punctuation">,</span>
    loc<span class="token operator">:</span> SourceLocation <span class="token punctuation">{</span> start<span class="token operator">:</span> <span class="token punctuation">[</span>Position<span class="token punctuation">]</span><span class="token punctuation">,</span> end<span class="token operator">:</span> <span class="token punctuation">[</span>Position<span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    specifiers<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">[</span>Node<span class="token punctuation">]</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
    source<span class="token operator">:</span> Node <span class="token punctuation">{</span>
      type<span class="token operator">:</span> <span class="token string">'StringLiteral'</span><span class="token punctuation">,</span>
      start<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
      end<span class="token operator">:</span> <span class="token number">26</span><span class="token punctuation">,</span>
      loc<span class="token operator">:</span> <span class="token punctuation">[</span>SourceLocation<span class="token punctuation">]</span><span class="token punctuation">,</span>
      extra<span class="token operator">:</span> <span class="token punctuation">[</span>Object<span class="token punctuation">]</span><span class="token punctuation">,</span>
      value<span class="token operator">:</span> <span class="token string">'./a.js'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  Node <span class="token punctuation">{</span>
    type<span class="token operator">:</span> <span class="token string">'ExpressionStatement'</span><span class="token punctuation">,</span> <span class="token comment">//表达式的语句 console.log(a)</span>
    start<span class="token operator">:</span> <span class="token number">28</span><span class="token punctuation">,</span>
    end<span class="token operator">:</span> <span class="token number">42</span><span class="token punctuation">,</span>
    loc<span class="token operator">:</span> SourceLocation <span class="token punctuation">{</span> start<span class="token operator">:</span> <span class="token punctuation">[</span>Position<span class="token punctuation">]</span><span class="token punctuation">,</span> end<span class="token operator">:</span> <span class="token punctuation">[</span>Position<span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    expression<span class="token operator">:</span> Node <span class="token punctuation">{</span>
      type<span class="token operator">:</span> <span class="token string">'CallExpression'</span><span class="token punctuation">,</span>
      start<span class="token operator">:</span> <span class="token number">28</span><span class="token punctuation">,</span>
      end<span class="token operator">:</span> <span class="token number">42</span><span class="token punctuation">,</span>
      loc<span class="token operator">:</span> <span class="token punctuation">[</span>SourceLocation<span class="token punctuation">]</span><span class="token punctuation">,</span>
      callee<span class="token operator">:</span> <span class="token punctuation">[</span>Node<span class="token punctuation">]</span><span class="token punctuation">,</span>
      arguments<span class="token operator">:</span> <span class="token punctuation">[</span>Array<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div><p><img src="/learningblog/assets/img/1589680953333.fa2b3e5a.png" alt="1589680953333"></p> <p>自己遍历并提取import <code>ImportDeclaration</code>节点会很复杂，</p> <p>babel提供了一个npm方法快速找到node节点：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> i @babel/traverse --save
</code></pre></div><p>tranverse方法：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">traverse</span><span class="token punctuation">(</span>ast<span class="token punctuation">,</span><span class="token punctuation">{</span>Fn<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>使用tranverse执行如下函数，这样输出的只有<code>ImportDeclaration</code>类型的节点，忽略了其他的表达式语句。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> traverse <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@babel/traverse'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>default
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token keyword">class</span> <span class="token class-name">czwwebpack</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">moduleAnalyser</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">filename</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> content <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span> <span class="token string">'utf-8'</span><span class="token punctuation">)</span>
        <span class="token keyword">const</span> ast <span class="token operator">=</span> parser<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>content<span class="token punctuation">,</span> <span class="token punctuation">{</span>
            sourceType<span class="token operator">:</span> <span class="token string">'module'</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token function">traverse</span><span class="token punctuation">(</span>ast<span class="token punctuation">,</span> <span class="token punctuation">{</span>
            <span class="token function">ImportDeclaration</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>node<span class="token punctuation">}</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


</code></pre></div><p>执行后返回的node结果：</p> <ul><li>我们可以看到，没有了表达是节点，只有一个<code>ImportDeclaration</code>节点</li> <li><code>ImportDeclaration</code>节点有一个source下有个<code>value:./a.js</code>，我们只需要这个文件名</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>Node <span class="token punctuation">{</span>
  type<span class="token operator">:</span> <span class="token string">'ImportDeclaration'</span><span class="token punctuation">,</span>
  start<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  end<span class="token operator">:</span> <span class="token number">26</span><span class="token punctuation">,</span>
  loc<span class="token operator">:</span> SourceLocation <span class="token punctuation">{</span>
    start<span class="token operator">:</span> Position <span class="token punctuation">{</span> line<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> column<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    end<span class="token operator">:</span> Position <span class="token punctuation">{</span> line<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> column<span class="token operator">:</span> <span class="token number">26</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  specifiers<span class="token operator">:</span> <span class="token punctuation">[</span>
    Node <span class="token punctuation">{</span>
      type<span class="token operator">:</span> <span class="token string">'ImportSpecifier'</span><span class="token punctuation">,</span>
      start<span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">,</span>
      end<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
      loc<span class="token operator">:</span> <span class="token punctuation">[</span>SourceLocation<span class="token punctuation">]</span><span class="token punctuation">,</span>
      imported<span class="token operator">:</span> <span class="token punctuation">[</span>Node<span class="token punctuation">]</span><span class="token punctuation">,</span>
      local<span class="token operator">:</span> <span class="token punctuation">[</span>Node<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  source<span class="token operator">:</span> Node <span class="token punctuation">{</span>  <span class="token comment">//</span>
    type<span class="token operator">:</span> <span class="token string">'StringLiteral'</span><span class="token punctuation">,</span>
    start<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
    end<span class="token operator">:</span> <span class="token number">26</span><span class="token punctuation">,</span>
    loc<span class="token operator">:</span> SourceLocation <span class="token punctuation">{</span> start<span class="token operator">:</span> <span class="token punctuation">[</span>Position<span class="token punctuation">]</span><span class="token punctuation">,</span> end<span class="token operator">:</span> <span class="token punctuation">[</span>Position<span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    extra<span class="token operator">:</span> <span class="token punctuation">{</span> rawValue<span class="token operator">:</span> <span class="token string">'./a.js'</span><span class="token punctuation">,</span> raw<span class="token operator">:</span> <span class="token string">&quot;'./a.js'&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    value<span class="token operator">:</span> <span class="token string">'./a.js'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="/learningblog/assets/img/image-20200930214408500.5d823e57.png" alt="image-20200930214408500"></p> <ul><li>上图把<code>node.source.value</code>里的<code>'./a.js'</code>提取出来到<code>dependencies</code>里</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function-variable function">moduleAnalyser</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">filename</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> dependencies <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token function">traverse</span><span class="token punctuation">(</span>ast<span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token function">ImportDeclaration</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> node <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        	dependencies<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>source<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dependencies<span class="token punctuation">)</span>

<span class="token punctuation">}</span>
<span class="token function">webpack</span><span class="token punctuation">(</span><span class="token string">'./src/index.js'</span><span class="token punctuation">)</span>
</code></pre></div><p>输出了<code>index.js</code>文件的依赖文件<code>a.js</code></p> <p><img src="data:image/png;base64,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" alt="image-20200930215317892"></p> <p>但是这个依赖文件是给相对路径，我们应该改为绝对路径，或者相对于根路径的绝对路径。</p> <p>我们引入path用来解决这个问题,</p> <ul><li>我们最好是把相对路径node.source.value和绝对路径pathName同时存放</li></ul> <div class="language- extra-class"><pre class="language-text"><code>path.dirname('./index.js');//拿到index.js对应的路径
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token function-variable function">moduleAnalyser</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">filename</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> content <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span> <span class="token string">'utf-8'</span><span class="token punctuation">)</span>  
    <span class="token keyword">const</span> ast <span class="token operator">=</span> parser<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>content<span class="token punctuation">,</span> <span class="token punctuation">{</span>
        sourceType<span class="token operator">:</span> <span class="token string">'module'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> dependencies <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token function">traverse</span><span class="token punctuation">(</span>ast<span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token function">ImportDeclaration</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> node <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">//拿到index文件对应的文件夹路径'./src'，并把他和node.source.value对应的依赖路径进行合并</span>
            <span class="token keyword">const</span> dirname <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">dirname</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//newFile =  'src\a.js'</span>
            <span class="token keyword">const</span> newFile <span class="token operator">=</span> <span class="token string">'./'</span> <span class="token operator">+</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>dirname<span class="token punctuation">,</span> node<span class="token punctuation">.</span>source<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
            dependencies<span class="token punctuation">[</span>node<span class="token punctuation">.</span>source<span class="token punctuation">.</span>value<span class="token punctuation">]</span> <span class="token operator">=</span> newFile 
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        filename<span class="token punctuation">,</span>
        dependencies
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>最终函数为</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">moduleAnalyser</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">this</span><span class="token punctuation">.</span>entry</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  filename<span class="token operator">:</span> <span class="token string">'./src/index.js'</span><span class="token punctuation">,</span>
  dependencies<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string">'./a.js'</span><span class="token operator">:</span> <span class="token string">'src\\a.js'</span><span class="token punctuation">,</span> <span class="token string">'./../js/c.js'</span><span class="token operator">:</span> <span class="token string">'js\\c.js'</span> <span class="token punctuation">}</span>
  <span class="token comment">//又在全局创建js/c.js</span>
<span class="token punctuation">}</span>
</code></pre></div><p>需要使用babel把es6的代码打包编译成浏览器能够认识的es5代码</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> @babel/core --save
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> @babel/preset-env --save
</code></pre></div><p>es6转es5</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//ast转换成对象，对象里的code就是编译生成的可以在浏览器运行的代码</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> code <span class="token punctuation">}</span> <span class="token operator">=</span> babel<span class="token punctuation">.</span><span class="token function">transformFromAst</span><span class="token punctuation">(</span>ast<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    presets<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;@babel/preset-env&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//........</span>
<span class="token keyword">const</span> babel <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@babel/core'</span><span class="token punctuation">)</span>

<span class="token function-variable function">moduleAnalyser</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">filename</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> content <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span> <span class="token string">'utf-8'</span><span class="token punctuation">)</span> 
  <span class="token keyword">const</span> ast <span class="token operator">=</span> parser<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>content<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    sourceType<span class="token operator">:</span> <span class="token string">'module'</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> dependencies <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token function">traverse</span><span class="token punctuation">(</span>ast<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token function">ImportDeclaration</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> node <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> dirname <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">dirname</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> newFile <span class="token operator">=</span> <span class="token string">'./'</span> <span class="token operator">+</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>dirname<span class="token punctuation">,</span> node<span class="token punctuation">.</span>source<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
      <span class="token comment">//const newFile = './' + path.resolve(dirname, node.source.value) //</span>
      dependencies<span class="token punctuation">[</span>node<span class="token punctuation">.</span>source<span class="token punctuation">.</span>value<span class="token punctuation">]</span> <span class="token operator">=</span> newFile
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token comment">//code就是可以在浏览器运行的代码</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> code <span class="token punctuation">}</span> <span class="token operator">=</span> babel<span class="token punctuation">.</span><span class="token function">transformFromAst</span><span class="token punctuation">(</span>ast<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    presets<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;@babel/preset-env&quot;</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    filename<span class="token punctuation">,</span>
    dependencies<span class="token punctuation">,</span>
    code
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="/learningblog/assets/img/1589687594921.b271117c.png" alt="1589687594921"></p> <p><img src="/learningblog/assets/img/1589687771008.cf6712e4.png" alt="1589687771008"></p> <h3 id="编写依赖图谱函数"><a href="#编写依赖图谱函数" class="header-anchor">#</a> 编写依赖图谱函数</h3> <ul><li>需要对每一个依赖的文件进行分析，最终把所有模块的信息全部分析出来。</li></ul> <p>我们之前定义了一个moduleAnalyser函数，当我们传入一个文件，他会帮我们分析出这个文件的依赖以及源代码。之后，我们在入口文件又会依赖其他文件，所以我们需要把所有依赖的模块都实现。</p> <p>创建依赖图谱函数，这个函数要接受一个entry</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> graphInfo <span class="token operator">=</span> <span class="token function">makeDependenciesGraph</span><span class="token punctuation">(</span><span class="token string">'./src/index.js'</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>entry <span class="token operator">=</span> options<span class="token punctuation">.</span>entry<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>graph <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function-variable function">makeDependenciesGraph</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">entry</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> root <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">moduleAnalyser</span><span class="token punctuation">(</span>entry<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> filename<span class="token punctuation">,</span> dependencies<span class="token punctuation">,</span> code <span class="token punctuation">}</span> <span class="token operator">=</span> root<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>graph<span class="token punctuation">[</span>filename<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
        dependencies<span class="token punctuation">,</span>
        code
    <span class="token punctuation">}</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> k <span class="token keyword">in</span> dependencies<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">makeDependenciesGraph</span><span class="token punctuation">(</span>dependencies<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="/learningblog/assets/img/1589692422928.1612b13c.png" alt="1589692422928"></p> <h3 id="编写bundle包运行到浏览器"><a href="#编写bundle包运行到浏览器" class="header-anchor">#</a> 编写bundle包运行到浏览器</h3> <p>我们拿到依赖图谱后要把代码进行执行。</p> <p>code内容：</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token keyword">class</span> <span class="token class-name">czwwebpack</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>entry <span class="token operator">=</span> options<span class="token punctuation">.</span>entry<span class="token punctuation">;</span>
		<span class="token comment">//创建依赖图谱表</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>graph <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token function-variable function">getbundleCode</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">entry</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token comment">//调用函数，生成依赖图谱</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">makeDependenciesGraph</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>graph<span class="token punctuation">)</span>
        <span class="token comment">//代码转换成字符串，否则返回的模板字符串里无法使用</span>
        <span class="token keyword">const</span> JsonGraph <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">(function(){})()</span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p><img src="/learningblog/assets/img/1589692422928.1612b13c.png" alt="1589692422928"></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">-</span> 闭包函数接受依赖图谱
<span class="token operator">-</span> <span class="token operator">-</span> 内部定义require函数，并把入口文件传入
	<span class="token operator">-</span> 需要函数获取到相对路径
	<span class="token operator">-</span> 
<span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">graph</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">function</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token parameter">entry</span><span class="token punctuation">)</span><span class="token punctuation">{</span> 
        <span class="token comment">//需要获得对应的相对路径对应的引入文件的</span>
        <span class="token keyword">function</span> <span class="token function">absRequire</span><span class="token punctuation">(</span><span class="token parameter">relativePath</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">//根据dependencies的映射关系，获取到对应入口文件名对应的相对于根路径的地址。因为映射表里的key并不是entry的路径，而是相对于根目录的路径，所以要把相对路径进行替换。</span>
            <span class="token keyword">return</span> <span class="token function">require</span><span class="token punctuation">(</span>graph<span class="token punctuation">[</span>entry<span class="token punctuation">]</span><span class="token punctuation">.</span>dependencies<span class="token punctuation">[</span>relativePath<span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> exports <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">require<span class="token punctuation">,</span>exports<span class="token punctuation">,</span>code</span><span class="token punctuation">)</span><span class="token punctuation">{</span> 
            <span class="token function">eval</span><span class="token punctuation">(</span>code<span class="token punctuation">)</span> <span class="token comment">//代码处理</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>absRequire<span class="token punctuation">,</span>exports<span class="token punctuation">,</span>graph<span class="token punctuation">[</span>entry<span class="token punctuation">]</span><span class="token punctuation">.</span>code<span class="token punctuation">)</span>
        <span class="token keyword">return</span> exports
    <span class="token punctuation">}</span>
    <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./src/index.js'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span>
</code></pre></div><p>code的内容</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">require<span class="token punctuation">,</span>exports<span class="token punctuation">,</span>code</span><span class="token punctuation">)</span><span class="token punctuation">{</span> 
    <span class="token function">eval</span><span class="token punctuation">(</span>code<span class="token punctuation">)</span> <span class="token comment">//代码处理</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>localRequire<span class="token punctuation">,</span>exports<span class="token punctuation">,</span>graph<span class="token punctuation">[</span>entry<span class="token punctuation">]</span><span class="token punctuation">.</span>code<span class="token punctuation">)</span>
<span class="token comment">//</span>
<span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">require<span class="token punctuation">,</span>exports<span class="token punctuation">,</span>code</span><span class="token punctuation">)</span><span class="token punctuation">{</span> 
    Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>exports<span class="token punctuation">,</span> __esModule<span class="token punctuation">,</span> <span class="token punctuation">{</span>  <span class="token comment">//需要用到exports</span>
        value<span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    exports<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token keyword">void</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> _b <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./b.js'</span><span class="token punctuation">)</span> <span class="token comment">//需要用到require函数</span>
    <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">&quot;\\u8FD9\\u662F&quot;</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>_b<span class="token punctuation">.</span>b<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>localRequire<span class="token punctuation">,</span>exports<span class="token punctuation">,</span>graph<span class="token punctuation">[</span>entry<span class="token punctuation">]</span><span class="token punctuation">.</span>code<span class="token punctuation">)</span>
</code></pre></div><p>dist文件创建删除</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function-variable function">getbundleCode</span> <span class="token operator">=</span> <span class="token parameter">entry</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">makeDependenciesGraph</span><span class="token punctuation">(</span>entry<span class="token punctuation">)</span>
    <span class="token keyword">const</span> JsonGraph <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>graph<span class="token punctuation">)</span>
    <span class="token keyword">const</span> bundle <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">(function(graph) {
                        function require(entry){ 
                            function absRequire(relativePath){
                                return require(graph[entry].dependencies[relativePath])
                            };
                            var exports = {};
                            (function(require,exports,code){
                                eval(code)
                            })(absRequire,exports,graph[entry].code)
                            return exports
                        }
                        require('</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>entry<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">')
                    })(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>JsonGraph<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span>
    <span class="token keyword">const</span> distPath <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>output<span class="token punctuation">.</span>path<span class="token punctuation">;</span>
    <span class="token keyword">const</span> filePath <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>output<span class="token punctuation">.</span>path<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>output<span class="token punctuation">.</span>filename<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>fs<span class="token punctuation">.</span><span class="token function">existsSync</span><span class="token punctuation">(</span>distPath<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">destoryDir</span><span class="token punctuation">(</span>distPath<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    fs<span class="token punctuation">.</span><span class="token function">mkdir</span><span class="token punctuation">(</span>distPath<span class="token punctuation">,</span> <span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            fs<span class="token punctuation">.</span><span class="token function">writeFileSync</span><span class="token punctuation">(</span>filePath<span class="token punctuation">,</span> bundle<span class="token punctuation">,</span> <span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'打包成功'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="最终代码"><a href="#最终代码" class="header-anchor">#</a> 最终代码</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> parser <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@babel/parser'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> babel <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@babel/core'</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> traverse <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@babel/traverse'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>default

<span class="token keyword">function</span> <span class="token function">destoryDir</span><span class="token punctuation">(</span><span class="token parameter">path</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> dirArr <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readdirSync</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span>
  dirArr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">//判断路径是否是目录  ./static + / + </span>
    <span class="token keyword">let</span> filePath <span class="token operator">=</span> path <span class="token operator">+</span> <span class="token string">'/'</span> <span class="token operator">+</span> item<span class="token punctuation">;</span>
    <span class="token comment">// 读取文件信息</span>

    <span class="token keyword">var</span> stat <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">statSync</span><span class="token punctuation">(</span>filePath<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 判断是文件还是目录</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>stat<span class="token punctuation">.</span><span class="token function">isFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      fs<span class="token punctuation">.</span><span class="token function">unlinkSync</span><span class="token punctuation">(</span>filePath<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>stat<span class="token punctuation">.</span><span class="token function">isDirectory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 递归删除内容</span>
      <span class="token function">destoryDir</span><span class="token punctuation">(</span>filePath<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token comment">// 删除空目录</span>
  fs<span class="token punctuation">.</span><span class="token function">rmdirSync</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token keyword">class</span> <span class="token class-name">czwwebpack</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>options <span class="token operator">=</span> options
    <span class="token keyword">this</span><span class="token punctuation">.</span>entry <span class="token operator">=</span> options<span class="token punctuation">.</span>entry<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>output <span class="token operator">=</span> options<span class="token punctuation">.</span>output<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>mode <span class="token operator">=</span> options<span class="token punctuation">.</span>mode
    <span class="token keyword">this</span><span class="token punctuation">.</span>graph <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">runCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 模块分析函数</span>
  <span class="token function-variable function">moduleAnalyser</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">filename</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">//读取index.js的内容</span>
    <span class="token keyword">const</span> content <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span> <span class="token string">'utf-8'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> ast <span class="token operator">=</span> parser<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>content<span class="token punctuation">,</span> <span class="token punctuation">{</span>
      sourceType<span class="token operator">:</span> <span class="token string">&quot;module&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> dependencies <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token function">traverse</span><span class="token punctuation">(</span>ast<span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token function">ImportDeclaration</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> node <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//   &quot;./a.js&quot; =&gt; &quot;./src/a.js&quot;</span>
        <span class="token keyword">const</span> newPathName <span class="token operator">=</span> <span class="token string">&quot;./&quot;</span> <span class="token operator">+</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">dirname</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">,</span> node<span class="token punctuation">.</span>source<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
        dependencies<span class="token punctuation">[</span>node<span class="token punctuation">.</span>source<span class="token punctuation">.</span>value<span class="token punctuation">]</span> <span class="token operator">=</span> newPathName<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> code <span class="token punctuation">}</span> <span class="token operator">=</span> babel<span class="token punctuation">.</span><span class="token function">transformFromAst</span><span class="token punctuation">(</span>ast<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      presets<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;@babel/preset-env&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      filename<span class="token punctuation">,</span>
      dependencies<span class="token punctuation">,</span>
      code<span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token comment">//编写依赖表函数</span>
  <span class="token function-variable function">makeDependenciesGraph</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">entry</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> root <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">moduleAnalyser</span><span class="token punctuation">(</span>entry<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> filename<span class="token punctuation">,</span> dependencies<span class="token punctuation">,</span> code <span class="token punctuation">}</span> <span class="token operator">=</span> root<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>graph<span class="token punctuation">[</span>filename<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
      dependencies<span class="token punctuation">,</span>
      code
    <span class="token punctuation">}</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> k <span class="token keyword">in</span> dependencies<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">makeDependenciesGraph</span><span class="token punctuation">(</span>dependencies<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 生成依赖文件</span>
  <span class="token function-variable function">getbundleCode</span> <span class="token operator">=</span> <span class="token parameter">entry</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">makeDependenciesGraph</span><span class="token punctuation">(</span>entry<span class="token punctuation">)</span>
    <span class="token keyword">const</span> JsonGraph <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>graph<span class="token punctuation">)</span>
    <span class="token keyword">const</span> bundle <span class="token operator">=</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">(function(graph) {
    function require(entry){ 
        function absRequire(relativePath){
            return require(graph[entry].dependencies[relativePath])
        };
        var exports = {};
        (function(require,exports,code){
            eval(code)
        })(absRequire,exports,graph[entry].code)
        return exports
    }
    require('</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>entry<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">')
})(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>JsonGraph<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span>


    <span class="token keyword">const</span> distPath <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>output<span class="token punctuation">.</span>path<span class="token punctuation">;</span>
    <span class="token keyword">const</span> filePath <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>output<span class="token punctuation">.</span>path<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>output<span class="token punctuation">.</span>filename<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>fs<span class="token punctuation">.</span><span class="token function">existsSync</span><span class="token punctuation">(</span>distPath<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">destoryDir</span><span class="token punctuation">(</span>distPath<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    fs<span class="token punctuation">.</span><span class="token function">mkdir</span><span class="token punctuation">(</span>distPath<span class="token punctuation">,</span> <span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        fs<span class="token punctuation">.</span><span class="token function">writeFileSync</span><span class="token punctuation">(</span>filePath<span class="token punctuation">,</span> bundle<span class="token punctuation">,</span> <span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'打包成功'</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function-variable function">runCode</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getbundleCode</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>entry<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="编写loader"><a href="#编写loader" class="header-anchor">#</a> 编写loader</h2> <blockquote><p>loader接受一个字符串source,根据传入的配置对这个字符串进行处理。一定要有返回值</p> <p>loader不能是箭头函数</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token operator">:</span><span class="token operator">=</span><span class="token punctuation">{</span>
rules<span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
      test<span class="token operator">:</span> <span class="token regex">/\.js/</span><span class="token punctuation">,</span>
      use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
          loader<span class="token operator">:</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'./loaders/replaceLoader.js'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          options<span class="token operator">:</span><span class="token punctuation">{</span>
              xx<span class="token operator">:</span><span class="token string">'czw'</span>
          <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token comment">//index.js</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'xx'</span><span class="token punctuation">)</span>
<span class="token comment">//loader.js</span>
module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">source<span class="token punctuation">,</span>map<span class="token punctuation">,</span>ast</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">//如果没有source和ast,后面两个是undefined</span>

<span class="token comment">//loader处理模块，</span>
<span class="token keyword">return</span> source<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'xx'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>query<span class="token punctuation">.</span>xx<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//'czw'通话</span>
<span class="token punctuation">}</span>
</code></pre></div></blockquote> <p><a href="https://www.webpackjs.com/api/loaders/" target="_blank" rel="noopener noreferrer">https://www.webpackjs.com/api/loaders/<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>czw-loader</p> <div class="language- extra-class"><pre class="language-text"><code>init -y
npm install webpack webpack-cli --save-dev
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//index.js</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'asdsa'</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>exports<span class="token operator">=</span><span class="token punctuation">{</span>
  entry<span class="token operator">:</span><span class="token punctuation">{</span>
    main<span class="token operator">:</span><span class="token string">'./src/index.js'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  output<span class="token operator">:</span><span class="token punctuation">{</span>
    path<span class="token operator">:</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span><span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    filename<span class="token operator">:</span><span class="token string">'[name].js'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
      test<span class="token operator">:</span> <span class="token regex">/\.js/</span><span class="token punctuation">,</span>
      use<span class="token operator">:</span> <span class="token punctuation">[</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'./loaders/replaceLoader.js'</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//传参</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
      test<span class="token operator">:</span> <span class="token regex">/\.js/</span><span class="token punctuation">,</span>
      use<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          loader<span class="token operator">:</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'./loaders/replaceLoader.js'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          options<span class="token operator">:</span><span class="token punctuation">{</span>
            name<span class="token operator">:</span><span class="token string">'czw'</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>根目录下创建loders/replaceloader.js</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">source</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> source<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'asdsa'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>query<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//'czw'通话</span>
<span class="token punctuation">}</span>
</code></pre></div><p>最后结果</p> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'czw'</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>官方推荐使用this.callback进行返回</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">source</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> result <span class="token operator">=</span> source<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'asdsa'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>query<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//'czw'通话</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span>result<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>异步处理</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//定时器代码里有异步时会报错：没有返回buffer和string</span>
module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">source</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> source<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'lee'</span><span class="token punctuation">,</span> <span class="token string">'world'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> loaderUtils <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'loader-utils'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">source</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//这个callback就是this.callback</span>
	<span class="token keyword">const</span> callback <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">async</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token keyword">const</span> result <span class="token operator">=</span> source<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'dell'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>query<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>多loader</strong></p> <ul><li><p>loader是从后往前执行，从下往上</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.js/</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
            path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'./loader2.js'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">//再执行这个loader</span>
            <span class="token punctuation">{</span>
                loader<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'./loader.js'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">//先执行这个loader</span>
                options<span class="token operator">:</span> <span class="token punctuation">{</span>
                    name<span class="token operator">:</span> <span class="token string">'czw'</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> loaderUtils <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'loader-utils'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">source</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">const</span> result <span class="token operator">=</span> source<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'dell'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>query<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre></div><p>resolveloader</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports<span class="token operator">=</span><span class="token punctuation">{</span>
    resolveLoader<span class="token operator">:</span><span class="token punctuation">{</span>
        modules<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'node_modules'</span><span class="token punctuation">,</span><span class="token string">'./loader'</span><span class="token punctuation">,</span><span class="token string">'./loader2'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    module<span class="token operator">:</span> <span class="token punctuation">{</span>
        rules<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
            test<span class="token operator">:</span> <span class="token regex">/\.js/</span><span class="token punctuation">,</span>
            use<span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">'loader1/index.js	'</span>
                <span class="token punctuation">{</span>
                    loader<span class="token operator">:</span> <span class="token string">'loader2/index.js'</span>
                    options<span class="token operator">:</span> <span class="token punctuation">{</span>
                        name<span class="token operator">:</span> <span class="token string">'czw'</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="less处理"><a href="#less处理" class="header-anchor">#</a> less处理</h3> <div class="language-bash extra-class"><pre class="language-bash"><code>cnpm i <span class="token function">less</span> -s
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>  module<span class="token operator">:</span> <span class="token punctuation">{</span>
        rules<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
            test<span class="token operator">:</span> <span class="token regex">/\.js/</span><span class="token punctuation">,</span>
            use<span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">'loader1/index.js	'</span>
                <span class="token punctuation">{</span>
                    loader<span class="token operator">:</span> <span class="token string">'loader2/index.js'</span>
                    options<span class="token operator">:</span> <span class="token punctuation">{</span>
                        name<span class="token operator">:</span> <span class="token string">'czw'</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
</code></pre></div><h2 id="loader和plugin区别"><a href="#loader和plugin区别" class="header-anchor">#</a> loader和plugin区别</h2> <p>loader会去处理我们引用的一些文件，plugin在打包的生命周期里使用，比如在打包结束使用htmlwebpackplugin,在打包之前使用cleanwebpackplugin清空dist</p> <h2 id="如何编写plugin"><a href="#如何编写plugin" class="header-anchor">#</a> 如何编写plugin</h2> <p><strong>plugin使用发布订阅，事件驱动的设计模式</strong></p> <p>webpack源码百分之八十使用plugin编写。</p> <h3 id="插件基本配置"><a href="#插件基本配置" class="header-anchor">#</a> 插件基本配置</h3> <p><img src="/learningblog/assets/img/1589636103922.3579d545.png" alt="1589636103922"></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// plugins/czw-webpack-plugin.js</span>
<span class="token keyword">class</span> <span class="token class-name">CzwWebpackPlugin</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//options就是config.js传入的内容</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">//调用插件执行，传递compiler,这个是webpack实例</span>
  <span class="token function">apply</span><span class="token punctuation">(</span><span class="token parameter">compiler</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> CzwWebpackPlugin
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//webpack.config.js</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> CzwWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./plugins/czw-webpack-plugin'</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span><span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CzwWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      name<span class="token operator">:</span><span class="token string">'czw'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  mode<span class="token operator">:</span> <span class="token string">'development'</span><span class="token punctuation">,</span>
  entry<span class="token operator">:</span> <span class="token punctuation">{</span>
    main<span class="token operator">:</span> <span class="token string">'./src/index.js'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="compiler钩子"><a href="#compiler钩子" class="header-anchor">#</a> <a href="https://www.webpackjs.com/api/compiler-hooks/" target="_blank" rel="noopener noreferrer">compiler钩子<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h3> <p>打包结束后，我要在dist文件里添加一个文件</p> <p>emit时刻。异步的hook</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">CzwWebpackPlugin</span> <span class="token punctuation">{</span>
  <span class="token comment">//调用插件执行，传递compiler,这个是webpack实例</span>
  <span class="token function">apply</span><span class="token punctuation">(</span><span class="token parameter">compiler</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token comment">//----------------------------------------------------------------    </span>
    <span class="token comment">//当把代码放到dist目录之前在dist目录添加文件czw.js</span>
    <span class="token comment">// compilation存放打包的内容</span>
    compiler<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>emit<span class="token punctuation">.</span><span class="token function">tapAsync</span><span class="token punctuation">(</span><span class="token string">'CzwWebpackPlugin'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">compilation<span class="token punctuation">,</span> cb</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      compilation<span class="token punctuation">.</span>assets<span class="token punctuation">[</span><span class="token string">'czw.txt'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">source</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token string">'czw'</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function-variable function">size</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token number">4</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      <span class="token function">cb</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">//----------------------------------------------------------------    </span>
    compiler<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>compile<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">'CzwWebpackPlugin'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">compilation</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> CzwWebpackPlugin
</code></pre></div><p>compile时刻。同步时刻</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">CzwWebpackPlugin</span> <span class="token punctuation">{</span>
  <span class="token function">apply</span><span class="token punctuation">(</span><span class="token parameter">compiler</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> CzwWebpackPlugin
</code></pre></div><h3 id="通过node调试工具快速查看内容"><a href="#通过node调试工具快速查看内容" class="header-anchor">#</a> 通过node调试工具快速查看内容</h3> <p>--inspect 开启调试</p> <p>--inspect-brk 第一行打断点</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token comment">//package.json</span>
<span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
  <span class="token property">&quot;debug&quot;</span><span class="token operator">:</span><span class="token string">&quot;node --inspect --inspect-brk node_modules/webpack/bin/webpack.js&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="/learningblog/assets/img/1589637582971.b6d5bace.png" alt="1589637582971"></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">CzwWebpackPlugin</span> <span class="token punctuation">{</span>
  <span class="token function">apply</span><span class="token punctuation">(</span><span class="token parameter">compiler</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    compiler<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>emit<span class="token punctuation">.</span><span class="token function">tapAsync</span><span class="token punctuation">(</span><span class="token string">'CzwWebpackPlugin'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">compilation<span class="token punctuation">,</span> cb</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">debugger</span><span class="token punctuation">;</span>
      compilation<span class="token punctuation">.</span>assets<span class="token punctuation">[</span><span class="token string">'czw.txt'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">source</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token string">'czw'</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function-variable function">size</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token number">4</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      <span class="token function">cb</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> CzwWebpackPlugin
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/learningblog/interview/4-webpack面试题/webpack面试题.html" class="prev">
        面试题
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/learningblog/assets/js/app.bc8599de.js" defer></script><script src="/learningblog/assets/js/2.56c2d769.js" defer></script><script src="/learningblog/assets/js/15.977b5688.js" defer></script>
  </body>
</html>
