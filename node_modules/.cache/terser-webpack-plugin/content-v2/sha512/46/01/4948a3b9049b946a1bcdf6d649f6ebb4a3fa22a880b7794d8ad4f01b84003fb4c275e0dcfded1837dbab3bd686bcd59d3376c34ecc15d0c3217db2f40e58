{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[100],{431:function(t,s,a){\"use strict\";a.r(s);var n=a(28),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":t.$parent.slotKey}},[a(\"h1\",{attrs:{id:\"项目初始化\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#项目初始化\"}},[t._v(\"#\")]),t._v(\" 项目初始化\")]),t._v(\" \"),a(\"h2\",{attrs:{id:\"跨域解决方案\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#跨域解决方案\"}},[t._v(\"#\")]),t._v(\" 跨域解决方案\")]),t._v(\" \"),a(\"ul\",[a(\"li\",[a(\"p\",[t._v(\"跨域是浏览器为了安全作出的策略\")])]),t._v(\" \"),a(\"li\",[a(\"p\",[t._v(\"浏览器请求必须遵循同源策略：协议域名端口号\")]),t._v(\" \"),a(\"p\",[t._v(\"//必须是http  aaa.ccom 80\")])])]),t._v(\" \"),a(\"p\",[t._v(\"iframe跨域了解\")]),t._v(\" \"),a(\"h3\",{attrs:{id:\"cors跨域\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#cors跨域\"}},[t._v(\"#\")]),t._v(\" cors跨域\")]),t._v(\" \"),a(\"p\",[t._v(\"easy mock是开源跨域,利用他就可以\")]),t._v(\" \"),a(\"p\",[t._v(\"需要后端指定跨域。\")]),t._v(\" \"),a(\"p\",[t._v(\"Access-Control-Allow-Credentials:true  允许带信用凭证。\")]),t._v(\" \"),a(\"p\",[t._v(\"用户名:quanlaibahuang\")]),t._v(\" \"),a(\"p\",[t._v(\"密码：quanlaibahuang\")]),t._v(\" \"),a(\"ul\",[a(\"li\",[t._v(\"需要服务端允许前端站点访问。\")]),t._v(\" \"),a(\"li\",[t._v(\"服务端设置，前端必须\")])]),t._v(\" \"),a(\"div\",{staticClass:\"language-js extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"axios\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"url\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"then\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token parameter\"}},[t._v(\"res\")]),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=>\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])])]),a(\"h3\",{attrs:{id:\"jsonp跨域\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#jsonp跨域\"}},[t._v(\"#\")]),t._v(\" jsonp跨域\")]),t._v(\" \"),a(\"p\",[t._v(\"并没有发送请求，只是引入了个js脚本，通过callback参数去取到后台的内容\")]),t._v(\" \"),a(\"ul\",[a(\"li\",[t._v(\"前端适配，后台配合\")]),t._v(\" \"),a(\"li\",[t._v(\"‘他是一个js代码，相当于访问一个接口，然后传入参数，他根据你传入的参数return 出内容\")])]),t._v(\" \"),a(\"div\",{staticClass:\"language-js extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"import\")]),t._v(\" jsonp \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"from\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'jsonp'\")]),t._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"jsonp\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"url\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token parameter\"}},[t._v(\"err\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"res\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=>\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n\\t\"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"let\")]),t._v(\" result \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" res\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"this\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"data \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" result\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"//通过jsonp访问不会有拦截。\")]),t._v(\"\\n\")])])]),a(\"h3\",{attrs:{id:\"开发环境接口代理\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#开发环境接口代理\"}},[t._v(\"#\")]),t._v(\" 开发环境接口代理\")]),t._v(\" \"),a(\"ul\",[a(\"li\",[t._v(\"访问/a接口通过代理转发到/b，但是看起来好像发送到自己接口一样\")]),t._v(\" \"),a(\"li\",[t._v(\"前端修改，后端不动\")])]),t._v(\" \"),a(\"p\",[t._v(\"vue.config.js是node\")]),t._v(\" \"),a(\"p\",[t._v(\"nodejs遵循commonjs规范\")]),t._v(\" \"),a(\"p\",[t._v(\"最终的响应头是这样的\")]),t._v(\" \"),a(\"div\",{staticClass:\"language- extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[t._v(\"http://localhost:8080/activity/...........\\n\")])])]),a(\"div\",{staticClass:\"language-js extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[t._v(\"module\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"exports \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n\\tdevServer\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\":\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n\\t\\thost\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\":\")]),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'localhost'\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n\\t\\tport\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\":\")]),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"8080\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n\\t\\tproxy\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\":\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n\\t\\t\"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"//访问到https://www.imooc.com/activity/serviecetime时，就不需要加这些，只把/api后面转发\")]),t._v(\"\\n\\t\\t\\t\"),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'/api'\")]),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\":\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n\\t\\t\\t\\ttarget\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\":\")]),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'https://www.imooc.com'\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n\\t\\t\\t\\tchangeOrigin\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\":\")]),a(\"span\",{pre:!0,attrs:{class:\"token boolean\"}},[t._v(\"true\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"  \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"//是否把主机头改为目标url地址\")]),t._v(\"\\n                pathRewrite\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\":\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n                    \"),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'/api'\")]),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\":\")]),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"''\")]),t._v(\"  \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"//他置空，开发时使用。\")]),t._v(\"\\n                \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\\t\\t\\t\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\\t\\t\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\\t\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"axios\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'/activity/serviecetime'\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"then\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token parameter\"}},[t._v(\"res\")]),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=>\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])])]),a(\"h2\",{attrs:{id:\"接口梳理\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#接口梳理\"}},[t._v(\"#\")]),t._v(\" 接口梳理\")]),t._v(\" \"),a(\"p\",[a(\"strong\",[t._v(\"状态码\")])]),t._v(\" \"),a(\"div\",{staticClass:\"language- extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[t._v('{\\n\\t\"status\":0  //成功  10：未登录\\n}\\n')])])]),a(\"h2\",{attrs:{id:\"目录结构\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#目录结构\"}},[t._v(\"#\")]),t._v(\" 目录结构\")]),t._v(\" \"),a(\"ul\",[a(\"li\",[t._v(\"api同一管理\")]),t._v(\" \"),a(\"li\",[t._v(\"util公共方法\")]),t._v(\" \"),a(\"li\",[t._v(\"storage处理存储，sessonstorage localstorage\")]),t._v(\" \"),a(\"li\",[t._v(\"store\")]),t._v(\" \"),a(\"li\",[t._v(\"router.js路由文件\")]),t._v(\" \"),a(\"li\",[t._v(\"pages文件\\n\"),a(\"ul\",[a(\"li\",[t._v(\"home.vue :框架结构,主页面\")]),t._v(\" \"),a(\"li\",[t._v(\"index.vue: 首页\")]),t._v(\" \"),a(\"li\",[t._v(\"product.vue:产品栈\")]),t._v(\" \"),a(\"li\",[t._v(\"detail:产品详情\")]),t._v(\" \"),a(\"li\",[t._v(\"orderList.vue 订单\")]),t._v(\" \"),a(\"li\",[t._v(\"order.vue 订单核心路由\")]),t._v(\" \"),a(\"li\",[t._v(\"orderConfim.vue 订单确认\")]),t._v(\" \"),a(\"li\",[t._v(\"cart.vue 购物车\")]),t._v(\" \"),a(\"li\",[t._v(\"login.vue登录页面。\")]),t._v(\" \"),a(\"li\",[t._v(\"orderPay.vue订单支付页面\")]),t._v(\" \"),a(\"li\",[t._v(\"跳转支付中转页面 alipay.vue\")])])]),t._v(\" \"),a(\"li\",[t._v(\"component\")])]),t._v(\" \"),a(\"h2\",{attrs:{id:\"技术栈插件依赖\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#技术栈插件依赖\"}},[t._v(\"#\")]),t._v(\" 技术栈插件依赖\")]),t._v(\" \"),a(\"div\",{staticClass:\"language-shell extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"npm\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"install\")]),t._v(\" vue-lazyload element-ui node-sass sass-loader vue-awesome-swiper vue-axios vue-cookie --save-dev\\n\")])])]),a(\"h2\",{attrs:{id:\"路由封装\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#路由封装\"}},[t._v(\"#\")]),t._v(\" 路由封装\")]),t._v(\" \"),a(\"div\",{staticClass:\"language- extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[t._v(\"└─home =>redirect index\\n│  └─ index\\n│  └─ product:id\\n│  └─ detail:id\\n├─ cart\\n│  └─ logo.png\\n├─ order\\n│  └─ confirm\\n│  └─ list\\n│  └─ alipay\\n│  └─ pay\\n\")])])]),a(\"h2\",{attrs:{id:\"storage封装\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#storage封装\"}},[t._v(\"#\")]),t._v(\" Storage封装\")]),t._v(\" \"),a(\"h3\",{attrs:{id:\"cookie、localstorage、sessionstorage区别\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#cookie、localstorage、sessionstorage区别\"}},[t._v(\"#\")]),t._v(\" cookie、localStorage、sessionStorage区别\")]),t._v(\" \"),a(\"p\",[t._v(\"cookie和storage区别:\")]),t._v(\" \"),a(\"ul\",[a(\"li\",[t._v(\"存储大小:Cookie 4k  、 Storage 5M，但是现在前端可能会把批量的报文存储，如果使用cookie存，不合适，而且cookie会发生到服务端\")]),t._v(\" \"),a(\"li\",[t._v(\"有效期: Cookie 设置Expires 过期事件，LocalStorage永久存储，sessionstorage存在内存。\")]),t._v(\" \"),a(\"li\",[t._v(\"cookie会自动发送到服务器端,存储在内存，localStorage存在浏览器，sessionstorage存储内存\")]),t._v(\" \"),a(\"li\",[t._v(\"路径：Cookie有路径问题，比如只让/a生效，Storage存在域名下，比如www.baidu.co\")]),t._v(\" \"),a(\"li\",[t._v(\"Cookie设置API很麻烦，Storage有清晰的setitem(key,value)\")])]),t._v(\" \"),a(\"p\",[t._v(\"localStoragesessionStorage:\")]),t._v(\" \"),a(\"ul\",[a(\"li\",[t._v(\"前者是本地存储，后者存在内存，会话关闭就清除\")])]),t._v(\" \"),a(\"p\",[t._v(\"为什么要封装？\")]),t._v(\" \"),a(\"ul\",[a(\"li\",[t._v(\"storage本身有api,但是只是简单的k/v\")]),t._v(\" \"),a(\"li\",[t._v(\"storage只存储字符串，需要人工转换json对象\")])]),t._v(\" \"),a(\"h2\",{attrs:{id:\"接口错误拦截\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#接口错误拦截\"}},[t._v(\"#\")]),t._v(\" 接口错误拦截\")]),t._v(\" \"),a(\"ul\",[a(\"li\",[t._v(\"统一报错\")]),t._v(\" \"),a(\"li\",[t._v(\"未登录统一拦截\")]),t._v(\" \"),a(\"li\",[t._v(\"请求值、返回值统一处理\")]),t._v(\" \"),a(\"li\",[t._v(\"表单时间戳统一请求：axios可以帮助我们做返回值拦截\")])]),t._v(\" \"),a(\"h2\",{attrs:{id:\"axios拦截\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#axios拦截\"}},[t._v(\"#\")]),t._v(\" axios拦截\")]),t._v(\" \"),a(\"p\",[a(\"strong\",[t._v(\"get +params\")])]),t._v(\" \"),a(\"p\",[a(\"strong\",[t._v(\"post没有params\")])]),t._v(\" \"),a(\"p\",[a(\"strong\",[t._v(\"axios.all同时发送多个请求\")])]),t._v(\" \"),a(\"div\",{staticClass:\"language- extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[t._v(\"axios.defaults.baseURL = '/api';\\naxios.defaults.timeout = 8000;\\n\")])])]),a(\"p\",[a(\"strong\",[t._v(\"接口响应拦截\")])]),t._v(\" \"),a(\"div\",{staticClass:\"language-js extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 接口错误拦截\")]),t._v(\"\\naxios\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"interceptors\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"response\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"use\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token parameter\"}},[t._v(\"response\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"let\")]),t._v(\" res \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" response\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"data\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"res\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"status \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"==\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"0\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"  \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"//0代表成功\")]),t._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" res\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"data\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"else\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"if\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"res\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"status \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"==\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"10\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"//状态码是10表示未登录\")]),t._v(\"\\n    window\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"location\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"href \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'/#/login'\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"else\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"  \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"//否则\")]),t._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"alert\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"res\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"msg\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])])]),a(\"h2\",{attrs:{id:\"接口环境变量配置\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#接口环境变量配置\"}},[t._v(\"#\")]),t._v(\" 接口环境变量配置\")]),t._v(\" \"),a(\"div\",{staticClass:\"language-js extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[t._v(\"module\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"exports \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  devServer\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\":\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    host\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\":\")]),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'localhost'\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    port\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\":\")]),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"8080\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    proxy\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\":\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n      \"),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'/api'\")]),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\":\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        target\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\":\")]),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'http://mall-pre.springboot.cn'\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n        changeOrigin\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\":\")]),a(\"span\",{pre:!0,attrs:{class:\"token boolean\"}},[t._v(\"true\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n        pathRewrite\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\":\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n          \"),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'/api'\")]),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\":\")]),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"''\")]),t._v(\"\\n        \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n      \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n\\n  productionSourceMap\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\":\")]),a(\"span\",{pre:!0,attrs:{class:\"token boolean\"}},[t._v(\"true\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token function-variable function\"}},[t._v(\"chainWebpack\")]),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\":\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token parameter\"}},[t._v(\"config\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=>\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    config\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"plugins\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"delete\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'prefetch'\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])])]),a(\"h2\",{attrs:{id:\"mock设置\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#mock设置\"}},[t._v(\"#\")]),t._v(\" mock设置\")]),t._v(\" \"),a(\"ul\",[a(\"li\",[t._v(\"本地创建json并加载\")])]),t._v(\" \"),a(\"div\",{staticClass:\"language- extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[t._v(\"需要把default.URL去掉。\\n\")])])]),a(\"ul\",[a(\"li\",[t._v(\"mockjs拦截数据请求。\")])]),t._v(\" \"),a(\"p\",[t._v(\"require是执行时加载；\")]),t._v(\" \"),a(\"div\",{staticClass:\"language- extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[t._v(\"const mock = false;\\n//mock开关\\nif(mock){\\n  //require这样是按需加载。\\n  require('./mock/api')\\n}\\n\\n\")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);","extractedComments":[]}