{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{1016:function(_,v,t){\"use strict\";t.r(v);var a=t(43),s=Object(a.a)({},(function(){var _=this,v=_.$createElement,a=_._self._c||v;return a(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":_.$parent.slotKey}},[a(\"h1\",{attrs:{id:\"传输层\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#传输层\"}},[_._v(\"#\")]),_._v(\" 传输层\")]),_._v(\" \"),a(\"h2\",{attrs:{id:\"传输层概述\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#传输层概述\"}},[_._v(\"#\")]),_._v(\" 传输层概述\")]),_._v(\" \"),a(\"p\",[_._v(\"传输层给应用层提供通信服务，面向用户的最底层。\")]),_._v(\" \"),a(\"p\",[_._v(\"传输层工作于计算机内，主要\"),a(\"strong\",[_._v(\"管理端到端的通信连接\")]),_._v(\"。\")]),_._v(\" \"),a(\"p\",[_._v(\"分为UDP协议和TCP协议\")]),_._v(\" \"),a(\"p\",[_._v(\"也就是解决浏览器和网站后台进程进程间的通信\")]),_._v(\" \"),a(\"ul\",[a(\"li\",[_._v(\"使用端口标记不同进程\")]),_._v(\" \"),a(\"li\",[_._v(\"端口0-65535。\")])]),_._v(\" \"),a(\"h2\",{attrs:{id:\"udp协议详解\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#udp协议详解\"}},[_._v(\"#\")]),_._v(\" UDP协议详解\")]),_._v(\" \"),a(\"h3\",{attrs:{id:\"udp协议\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#udp协议\"}},[_._v(\"#\")]),_._v(\" UDP协议\")]),_._v(\" \"),a(\"ul\",[a(\"li\",[_._v(\"UDP(User Datagram Protocol:用户数据报协议)\")]),_._v(\" \"),a(\"li\",[_._v(\"UDP协议是很简单的协议。\")])]),_._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:t(793),alt:\"image-20200827181151287\"}})]),_._v(\" \"),a(\"p\",[_._v(\"数据报(Datagram):UDP协议不会进行合并和拆分。\")]),_._v(\" \"),a(\"p\",[_._v(\"UDP首部：\")]),_._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:t(794),alt:\"第11章 UDP:用户数据报协议_TCP/IP详解卷1 协议_即时通讯网(52im.net)\"}})]),_._v(\" \"),a(\"h3\",{attrs:{id:\"udp特点\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#udp特点\"}},[_._v(\"#\")]),_._v(\" UDP特点\")]),_._v(\" \"),a(\"p\",[_._v(\"UDP特点:\")]),_._v(\" \"),a(\"ul\",[a(\"li\",[a(\"strong\",[_._v(\"UDP是无连接协议\")]),_._v(\"。通信前不需要先建立连接，不会握手\")]),_._v(\" \"),a(\"li\",[a(\"strong\",[_._v(\"UDP不保证可靠的交付数据\")]),_._v(\"。因为他没有连接，所以无法保证是否有丢失，也无法感知是否有丢失\")]),_._v(\" \"),a(\"li\",[a(\"strong\",[_._v(\"UDP面向报文传输\")]),_._v(\"。他不会对数据进行处理，面向数据报。\")]),_._v(\" \"),a(\"li\",[_._v(\"**UDP没有拥塞控制。**无法感知网络是否拥塞，不管是否拥塞都会发给这个网络。\")]),_._v(\" \"),a(\"li\",[_._v(\"**UDP首部开销小。**只有源端口号，目的端口号，数据报长度和校验和8字节\")])]),_._v(\" \"),a(\"h2\",{attrs:{id:\"tcp协议详解\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#tcp协议详解\"}},[_._v(\"#\")]),_._v(\" TCP协议详解\")]),_._v(\" \"),a(\"h3\",{attrs:{id:\"tcp协议\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#tcp协议\"}},[_._v(\"#\")]),_._v(\" TCP协议\")]),_._v(\" \"),a(\"ul\",[a(\"li\",[_._v(\"TCP 传输控制协议。位于传输层。\")])]),_._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:t(795),alt:\"image-20200827182212228\"}})]),_._v(\" \"),a(\"h3\",{attrs:{id:\"tcp协议特点\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#tcp协议特点\"}},[_._v(\"#\")]),_._v(\" TCP协议特点\")]),_._v(\" \"),a(\"ul\",[a(\"li\",[_._v(\"TCP是面向连接的协议。\")]),_._v(\" \"),a(\"li\",[_._v(\"TCP的一个连接有两端(点对点通信)\")]),_._v(\" \"),a(\"li\",[_._v(\"TCP提供可靠的传输服务\")]),_._v(\" \"),a(\"li\",[_._v(\"TCP提供全双工的通信。 双方都可以收发。\")]),_._v(\" \"),a(\"li\",[_._v(\"TCP面向字节流的协议。 TCP里不看成一块完整的数据，而是对一个字节一个字节来处理，所以他传输的数据不一定是连续的。他可能对用户数据块进行合并或者分拆。这里也\")])]),_._v(\" \"),a(\"h3\",{attrs:{id:\"tcp首部\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#tcp首部\"}},[_._v(\"#\")]),_._v(\" TCP首部\")]),_._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:t(796),alt:\"image-20200827183358151\"}})]),_._v(\" \"),a(\"p\",[_._v(\"seq序号:\")]),_._v(\" \"),a(\"ul\",[a(\"li\",[_._v(\"0-2^32-1。因为有32位\")]),_._v(\" \"),a(\"li\",[_._v(\"一个字节一个序号。\")]),_._v(\" \"),a(\"li\",[_._v(\"代表TCP数据报首字节序号。\")])]),_._v(\" \"),a(\"p\",[_._v(\"ack确认号:\")]),_._v(\" \"),a(\"ul\",[a(\"li\",[a(\"p\",[_._v(\"0-2^32-1。因为有32位\")])]),_._v(\" \"),a(\"li\",[a(\"p\",[_._v(\"一个字节一个序号。\")])]),_._v(\" \"),a(\"li\",[a(\"p\",[_._v(\"期待收到的首字节序号。 我期望你下一个传递给我数据的序号。\")])]),_._v(\" \"),a(\"li\",[a(\"p\",[_._v(\"需要配合首字节、\")])]),_._v(\" \"),a(\"li\",[a(\"p\",[_._v(\"确认号为N，则表示N-1序号的数据都收到了\")])])]),_._v(\" \"),a(\"p\",[_._v(\"数据偏移\")]),_._v(\" \"),a(\"ul\",[a(\"li\",[_._v(\"占4位，0-2^4-1=15。单位为32位字\")]),_._v(\" \"),a(\"li\",[_._v(\"数据偏离首部的距离。\")]),_._v(\" \"),a(\"li\",[_._v(\"比如头部20个字节，最大15*4 = 60个字节，所以TCP头部为20-60个字节\")])]),_._v(\" \"),a(\"p\",[_._v(\"TCP标记\")]),_._v(\" \"),a(\"ul\",[a(\"li\",[_._v(\"占6位\")]),_._v(\" \"),a(\"li\",[_._v(\"URG:Urgent:紧急位，URG=1,表示紧急数据\")]),_._v(\" \"),a(\"li\",[_._v(\"ACK:Acknowledgement:确认位，ACK=1,确认号才生效，确定收到了。\")]),_._v(\" \"),a(\"li\",[_._v(\"PSH：Push,推送位，PSH=1，尽快的把数据交付给应用层\")]),_._v(\" \"),a(\"li\",[_._v(\"RST:Reset:重置位，RST=1,重新建立连接\")]),_._v(\" \"),a(\"li\",[_._v(\"SYN:同步位，SYN=1表示请求建立连接\")]),_._v(\" \"),a(\"li\",[_._v(\"FIN：Finish，终止位，FIN=1,表示释放连接。\")])]),_._v(\" \"),a(\"p\",[_._v(\"窗口\")]),_._v(\" \"),a(\"ul\",[a(\"li\",[_._v(\"站16位，2^16-1\")]),_._v(\" \"),a(\"li\",[_._v(\"允许对方发送的数据量\")]),_._v(\" \"),a(\"li\",[_._v(\"确认号为501，窗口1000，那么501-1500都可以接收到\")])]),_._v(\" \"),a(\"p\",[_._v(\"校验和\")]),_._v(\" \"),a(\"ul\",[a(\"li\",[_._v(\"和UDP一样的\")])]),_._v(\" \"),a(\"p\",[_._v(\"紧急指针\")]),_._v(\" \"),a(\"ul\",[a(\"li\",[_._v(\"URG=1启用，会优先插队。\")])]),_._v(\" \"),a(\"p\",[_._v(\"TCP选项\")]),_._v(\" \"),a(\"ul\",[a(\"li\",[_._v(\"TCO选项最多40个字节\")]),_._v(\" \"),a(\"li\",[_._v(\"支持未来的拓展，类似预留\")])]),_._v(\" \"),a(\"h2\",{attrs:{id:\"tcp可靠传输原理\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#tcp可靠传输原理\"}},[_._v(\"#\")]),_._v(\" TCP可靠传输原理\")]),_._v(\" \"),a(\"h3\",{attrs:{id:\"停止等待协议\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#停止等待协议\"}},[_._v(\"#\")]),_._v(\" 停止等待协议\")]),_._v(\" \"),a(\"ul\",[a(\"li\",[a(\"p\",[_._v(\"通过超时重传保证可靠传输\")])]),_._v(\" \"),a(\"li\",[a(\"p\",[_._v(\"超时定时器。\")])]),_._v(\" \"),a(\"li\",[a(\"p\",[_._v(\"停止等待协议是最简单的可靠传输协议\")])]),_._v(\" \"),a(\"li\",[a(\"p\",[_._v(\"停止等待协议对信道利用率不高。\")])])]),_._v(\" \"),a(\"p\",[_._v(\"无差错情况：\")]),_._v(\" \"),a(\"ul\",[a(\"li\",[_._v(\"发送方发送消息后停止发送消息，等待接收方返回一个确认接收的消息。\")]),_._v(\" \"),a(\"li\",[_._v(\"接收方发送确认接收消息。\")]),_._v(\" \"),a(\"li\",[_._v(\"发送方接收确认消息后，发送消息2给接收方。\")])]),_._v(\" \"),a(\"p\",[_._v(\"有差错情况：\")]),_._v(\" \"),a(\"ul\",[a(\"li\",[_._v(\"发送的消息丢失了。\")]),_._v(\" \"),a(\"li\",[_._v(\"确认的消息丢失了。\")]),_._v(\" \"),a(\"li\",[_._v(\"确认的消息很久才返回。\")]),_._v(\" \"),a(\"li\",[_._v(\"这三种都会超时重传。\")])]),_._v(\" \"),a(\"h3\",{attrs:{id:\"连续arq协议\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#连续arq协议\"}},[_._v(\"#\")]),_._v(\" 连续ARQ协议\")]),_._v(\" \"),a(\"ul\",[a(\"li\",[_._v(\"ARQ:自动重传请求。\")])]),_._v(\" \"),a(\"p\",[_._v(\"单个发送和确认效率低，可以批量发送和确认。\")]),_._v(\" \"),a(\"p\",[_._v(\"发送时批量发送数据，前面的数据确认消息到达，就\"),a(\"strong\",[_._v(\"滑动窗口\")]),_._v(\"，然后把窗口内没有发送的数据发送出去。\")]),_._v(\" \"),a(\"p\",[_._v(\"不需要对每个报文都确认，采用\"),a(\"strong\",[_._v(\"累计确认\")]),_._v(\"，比如同 时发送1-6个报文，发送方收到5的确认消息，说明1-5的消息都被收到了，就把窗口推动，发送7-11\")]),_._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:t(797),alt:\"image-20200827192823714\"}})]),_._v(\" \"),a(\"h2\",{attrs:{id:\"tcp协议可靠传输\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#tcp协议可靠传输\"}},[_._v(\"#\")]),_._v(\" TCP协议可靠传输\")]),_._v(\" \"),a(\"ul\",[a(\"li\",[_._v(\"TCP可靠传输基于连续ARQ协议(滑动窗口、累计确认)\")]),_._v(\" \"),a(\"li\",[_._v(\"TCP的滑动窗口以字节为单位。\")])]),_._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:t(798),alt:\"image-20200827193803929\"}})]),_._v(\" \"),a(\"p\",[_._v(\"特殊情况：某一时刻，25,27字节的确认号收到，但是23,24没收确认号，所以\")])])}),[],!1,null,null,null);v.default=s.exports},793:function(_,v,t){_.exports=t.p+\"assets/img/image-20200827181151287.170c74b6.png\"},794:function(_,v,t){_.exports=t.p+\"assets/img/52im_net_2.94ed5b52.png\"},795:function(_,v,t){_.exports=t.p+\"assets/img/image-20200827182212228.6a4e4105.png\"},796:function(_,v,t){_.exports=t.p+\"assets/img/image-20200827183358151.6001913e.png\"},797:function(_,v,t){_.exports=t.p+\"assets/img/image-20200827192823714.0936f419.png\"},798:function(_,v,t){_.exports=t.p+\"assets/img/image-20200827193803929.cd3c5edd.png\"}}]);","extractedComments":[]}